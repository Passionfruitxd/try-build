(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[5],{1552:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}},1571:function(e,t,n){},1572:function(e,t,n){},1573:function(e,t,n){},1574:function(e,t,n){},1575:function(e,t,n){},1622:function(e,t,n){"use strict";n.r(t),n.d(t,"BAG_WIDTH",(function(){return en})),n.d(t,"XXXL_BAG_WIDTH",(function(){return tn}));var r=n(21),c=n(2),i=n.n(c),a=n(14),o=n(10),s=n(4),l=n(3),u=n(55),d=n(43),b=n(34),p=n(18),j=n(171);var f=n(417),g=n(528),h=n(17),m=n(100),x=n(111),O=n(38),v=n(178),w=n(175),I=n(30),k=n(549),y=n(866),A=n(137),N=n(7),E=n(243);function T(){var e=Object(j.d)(j.b.payWithAnyToken,j.a.Enabled)===j.a.Enabled,t=Object(p.useWeb3React)().chainId;try{return t&&Object(E.UNIVERSAL_ROUTER_ADDRESS)(t),e}catch(n){return!1}}var S=n(103),C=n(375),P=n(195),R=n(204),_=n(429),z=n(697),L=n(5),D=n(870),B=n(867),F=n(0);var G=n(40),M=n(39);function U(e){return Object(s.a)(Object(s.a)({},{inputAmount:{amount:(n={inputAmount:e.inputAmount,outputAmount:e.outputAmount}).inputAmount.quotient.toString(),token:{address:n.inputAmount.currency.isToken?n.inputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.inputAmount.currency.chainId,decimals:n.inputAmount.currency.decimals,isNative:n.inputAmount.currency.isNative}},outputAmount:{amount:n.outputAmount.quotient.toString(),token:{address:n.outputAmount.currency.isToken?n.outputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.outputAmount.currency.chainId,decimals:n.outputAmount.currency.decimals,isNative:n.outputAmount.currency.isNative}}}),{},{pools:(t=e.route.pools,t.map((function(e){return function(e){var t="fee"in e;return{pair:t?void 0:{tokenAmountA:{amount:e.reserve0.quotient.toString(),token:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative}},tokenAmountB:{amount:e.reserve1.quotient.toString(),token:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}},pool:t?{fee:e.fee,liquidity:e.liquidity.toString(),sqrtRatioX96:e.sqrtRatioX96.toString(),tickCurrent:e.tickCurrent.toString(),tokenA:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative},tokenB:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}:void 0}}(e)})))});var t,n}var W=n(115),q=n.n(W),H=n(117),V=q()()(Object(H.devtools)((function(e){return{inputCurrency:void 0,tokenTradeInput:void 0,setInputCurrency:function(t){return e((function(){return{inputCurrency:t}}))},clearInputCurrency:function(){return e((function(){return{inputCurrency:void 0}}))},setTokenTradeInput:function(t){return e((function(){return{tokenTradeInput:t}}))}}}),{name:"useTokenInput"}));function Y(e,t,n){var r=V((function(e){return e.setTokenTradeInput})),c=!!e&&e.routes,i=!!e&&!!e.inputAmount&&e.inputAmount.currency.isToken,a=!!n&&!!t;Object(F.useEffect)((function(){if(c&&i&&a){var o=parseInt(n.multiply(100).toSignificant(2)),s=function(e){var t,n=[],r=[],c=[],i=e.swaps,a=Object(G.a)(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.route.protocol===M.Protocol.MIXED?n.push(U(o)):o.route.protocol===M.Protocol.V2?r.push(U(o)):c.push(U(o))}}catch(s){a.e(s)}finally{a.f()}return{mixedTokenTradeRouteInputs:n.length>0?n:void 0,v2TokenTradeRouteInputs:r.length>0?r:void 0,v3TokenTradeRouteInputs:c.length>0?c:void 0}}(e),l=s.mixedTokenTradeRouteInputs,u=s.v2TokenTradeRouteInputs,d=s.v3TokenTradeRouteInputs,b={mixedRoutes:l,tradeType:f.c.ExactOutput,v2Routes:u,v3Routes:d},p="permitSignature"in t&&t.permitSignature?{details:{amount:t.permitSignature.details.amount.toString(),expiration:t.permitSignature.details.expiration.toString(),nonce:t.permitSignature.details.nonce.toString(),token:t.permitSignature.details.token},sigDeadline:t.permitSignature.sigDeadline.toString(),signature:t.permitSignature.signature,spender:t.permitSignature.spender}:void 0;r({permit:p,routes:b,slippageToleranceBasisPoints:o,tokenAmount:{amount:e.inputAmount.quotient.toString(),token:{address:e.inputAmount.currency.address,chainId:e.inputAmount.currency.chainId,decimals:e.inputAmount.currency.decimals,isNative:e.inputAmount.currency.isNative}}})}else r(void 0)}),[t,n,a,i,c,r,e])}var X=n(32);var J=n(173);function Q(e){var t=Object(l.useTheme)();return Object(F.useMemo)((function(){var n=e?Object(J.a)(e):void 0,r=n?Object(J.b)(n):void 0,c="error"===r?t.accentCritical:"warning"===r?t.accentWarning:void 0;return n&&r&&c?{priceImpactSeverity:{type:r,color:c},displayPercentage:function(){return function(e){var t,n=e.lessThan(0)?"+":"";if(Number(e.numerator)/Number(e.denominator)*100<.005)return"0.00%";var r=parseFloat(null===(t=e.multiply(-1))||void 0===t?void 0:t.toFixed(2));return"".concat(n).concat(r,"%")}(n)}}:void 0}),[t.accentCritical,t.accentWarning,e])}var $=n(702),K=n(48),Z=n(299),ee=n(936),te=n(691),ne=n(101),re=n(152),ce=n(16),ie=n(548),ae=n(1552),oe=n.n(ae),se=n(1),le=l.default.div.withConfig({componentId:"sc-rcepl8-0"})(["padding:0px 12px;"]),ue=l.default.div.withConfig({componentId:"sc-rcepl8-1"})(["border-top:1px solid ",";color:",";display:flex;flex-direction:column;margin:0px 16px 8px;padding:12px 0px;border-bottom-left-radius:12px;border-bottom-right-radius:12px;"],(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.textPrimary})),de=Object(l.default)(O.d).withConfig({componentId:"sc-rcepl8-2"})(["padding-top:8px;padding-bottom:",";"],(function(e){return e.usingPayWithAnyToken?"16px":"20px"})),be=Object(l.default)(I.d).withConfig({componentId:"sc-rcepl8-3"})(["justify-content:space-between;align-items:start;gap:8px;"]),pe=Object(l.default)(O.d).withConfig({componentId:"sc-rcepl8-4"})(["text-align:end;overflow-x:hidden;"]),je=Object(l.default)(ee.a).withConfig({componentId:"sc-rcepl8-5"})(["width:14px;margin-right:4px;color:inherit;"]),fe=Object(l.default)(ce.o.BodyPrimary).withConfig({componentId:"sc-rcepl8-6"})(["align-items:center;color:",";display:flex;justify-content:center;margin-bottom:10px !important;text-align:center;"],(function(e){return e.$color})),ge=Object(l.default)(ce.o.Caption).withConfig({componentId:"sc-rcepl8-7"})(["color:",";display:flex;justify-content:center;text-align:center;margin-bottom:10px !important;"],(function(e){return e.$color})),he=Object(l.default)(I.d).withConfig({componentId:"sc-rcepl8-8"})(["gap:8px;cursor:pointer;"]),me=l.default.button.withConfig({componentId:"sc-rcepl8-9"})(["display:flex;background:",";color:",";font-weight:600;line-height:24px;font-size:16px;gap:16px;justify-content:center;border:none;border-radius:12px;padding:12px 0px;cursor:pointer;align-items:center;&:disabled{opacity:0.6;cursor:auto;}"],(function(e){return e.$backgroundColor}),(function(e){return e.$color})),xe=Object(l.default)(y.a).withConfig({componentId:"sc-rcepl8-10"})(["border-radius:4px;width:4rem;height:20px;align-self:end;"]),Oe=Object(l.default)(I.d).withConfig({componentId:"sc-rcepl8-11"})(["align-items:center;gap:8px;width:100%;justify-content:flex-end;"]),ve=Object(l.default)(I.d).withConfig({componentId:"sc-rcepl8-12"})(["align-items:center;gap:8px;"]),we=Object(l.default)(ce.o.BodyPrimary).withConfig({componentId:"sc-rcepl8-13"})(["line-height:20px;font-weight:500;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;scrollbar-width:none;::-webkit-scrollbar{display:none;}"]),Ie=function(e){var t=e.disabled,n=e.children,r=e.onClick,c=e.backgroundColor,i=e.textColor;return Object(se.jsx)(me,{disabled:t,onClick:r,$backgroundColor:c,$color:i,children:n})},ke=function(e){var t=e.color,n=e.children;return n?Object(se.jsxs)(fe,{fontSize:"14px",lineHeight:"20px",$color:t,children:[Object(se.jsx)(je,{}),n]}):null},ye=function(e){var t=e.children,n=e.color;return t?Object(se.jsx)(ge,{lineHeight:"16px",$color:n,children:t}):null},Ae=function(e){var t,n=e.usingPayWithAnyToken,r=e.totalEthPrice,c=e.activeCurrency,i=e.tradeState,a=e.trade;return n?i===re.b.LOADING?Object(se.jsx)(ce.o.BodyPrimary,{color:"textTertiary",lineHeight:"20px",fontWeight:"500",children:Object(se.jsx)(h.b,{id:"Fetching price..."})}):Object(se.jsx)(we,{color:i===re.b.SYNCING?"textTertiary":"textPrimary",children:Object(Z.e)(null===a||void 0===a?void 0:a.inputAmount.toExact())}):Object(se.jsxs)(ce.o.BodyPrimary,{lineHeight:"20px",fontWeight:"500",children:[Object(Z.l)(r.toString()),"\xa0",null!==(t=null===c||void 0===c?void 0:c.symbol)&&void 0!==t?t:"ETH"]})},Ne=function(e){var t=e.usdcValue,n=e.priceImpact,r=e.tradeState,c=e.usingPayWithAnyToken;return t?Object(se.jsxs)(Oe,{children:[n&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(A.a,{text:m.a._("The estimated difference between the USD values of input and output amounts."),children:Object(se.jsxs)(ve,{children:[Object(se.jsx)(ee.a,{color:n.priceImpactSeverity.color,size:"16px"}),Object(se.jsxs)(ce.o.BodySmall,{style:{color:n.priceImpactSeverity.color},lineHeight:"20px",children:["(",Object(se.jsx)(h.b,{id:"{0}",values:{0:n.displayPercentage()}}),")"]})]})})}),Object(se.jsx)(ce.o.BodySmall,{color:"textTertiary",lineHeight:"20px",children:"".concat(Object(Z.e)(null===t||void 0===t?void 0:t.toExact(),!0))})]}):!c||r!==re.b.INVALID&&r!==re.b.NO_ROUTE_FOUND?Object(se.jsx)(xe,{}):null},Ee=[K.b.FETCHING_ROUTE,K.b.CONFIRMING_IN_WALLET,K.b.FETCHING_FINAL_ROUTE,K.b.PROCESSING_TRANSACTION],Te=function(e){var t,n=e.totalEthPrice,r=e.fetchAssets,c=e.eventProperties,u=Object(ne.g)(),j=Object(l.useTheme)(),f=Object(p.useWeb3React)(),g=f.account,m=f.chainId,y=f.connector,A=Boolean(g&&m),G=T(),M=V((function(e){return e.inputCurrency})),U=V((function(e){return e.setInputCurrency})),W=Object(S.b)("ETH"),q=Object(R.e)(null!==g&&void 0!==g?g:void 0,M&&M.isToken?M:void 0),H=Object(z.a)((function(e){return{isLocked:e.isLocked,bagStatus:e.bagStatus,setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus}}),oe.a),J=H.isLocked,ee=H.bagStatus,ae=H.setBagExpanded,je=H.setBagStatus,fe=Object(F.useState)(!1),ge=Object(o.a)(fe,2),me=ge[0],xe=ge[1],Oe=Ee.includes(ee),ve=null!==M&&void 0!==M?M:W,we=!!M&&G&&m===N.d.MAINNET,Te=Object(F.useMemo)((function(){return Object(_.a)(Object(x.formatEther)(n.toString()),null!==W&&void 0!==W?W:void 0)}),[W,n]),Se=function(e,t){var n=Object(B.a)(L.TradeType.EXACT_OUTPUT,t,null!==e&&void 0!==e?e:void 0),r=n.state,c=n.trade,i=Object(D.a)(c),a=Object(F.useMemo)((function(){var e=null===c||void 0===c?void 0:c.maximumAmountIn(i);return(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0}),[i,c]);return Object(F.useMemo)((function(){return{state:r,trade:c,maximumAmountIn:a,allowedSlippage:i}}),[i,a,r,c])}(we?M:void 0,Te),Ce=Se.state,Pe=Se.trade,Re=Se.maximumAmountIn,_e=Se.allowedSlippage,ze=function(e,t,n){var r=Object(p.useWeb3React)().chainId,c=Object(C.b)(n?null!==t&&void 0!==t?t:(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0:void 0,n&&r?Object(E.UNIVERSAL_ROUTER_ADDRESS)(r):void 0),s=c.state===C.a.REQUIRED&&c.isApprovalLoading,l=Object(F.useState)(!1),u=Object(o.a)(l,2),j=u[0],f=u[1],g=Object(F.useCallback)(Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(X.default)(c.state===C.a.REQUIRED),f(!0),e.prev=2,e.next=5,c.approveAndPermit();case 5:Object(d.sendAnalyticsEvent)(b.InterfaceEventName.APPROVE_TOKEN_TXN_SUBMITTED,{chain_id:r,token_symbol:null===t||void 0===t?void 0:t.currency.symbol,token_address:null===t||void 0===t?void 0:t.currency.address}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[c,r,null===t||void 0===t?void 0:t.currency.address,null===t||void 0===t?void 0:t.currency.symbol]);return Object(F.useMemo)((function(){return{allowance:c,isApprovalLoading:s,isAllowancePending:j,updateAllowance:g}}),[c,j,s,g])}((null===Pe||void 0===Pe?void 0:Pe.inputAmount.currency.isToken)?null===Pe||void 0===Pe?void 0:Pe.inputAmount:void 0,Re,G),Le=ze.allowance,De=ze.isAllowancePending,Be=ze.isApprovalLoading,Fe=ze.updateAllowance;Y(Pe,Le,_e);var Ge=Q(Pe),Me=Object(P.c)(null===Pe||void 0===Pe?void 0:Pe.inputAmount),Ue=Object(P.c)(Te),We=we?Me:Ue,qe=Object($.a)().balance,He=Object(F.useMemo)((function(){if(A&&m===N.d.MAINNET){if(M){var e=null===Pe||void 0===Pe?void 0:Pe.inputAmount;if(!q||!e)return;return!q.lessThan(e)}return Object(x.parseEther)(qe).gte(n)}}),[A,m,M,qe,n,null===Pe||void 0===Pe?void 0:Pe.inputAmount,q]);Object(F.useEffect)((function(){je(K.b.ADDING_TO_BAG)}),[M,je]);var Ve=Object(F.useMemo)((function(){var e=r,t=Object(se.jsx)(h.b,{id:"Something went wrong"}),n=!0,c=void 0,i=j.accentWarning,a=void 0,o=j.textSecondary,s=j.accentAction,l=j.accentTextLightPrimary;return A&&m!==N.d.MAINNET?(e=function(){return Object(ie.a)(y,N.d.MAINNET)},t=Object(se.jsx)(h.b,{id:"Switch networks"}),n=!1,c=Object(se.jsx)(h.b,{id:"Wrong network"})):!1===He?(t=Object(se.jsx)(h.b,{id:"Pay"}),n=!0,c=Object(se.jsx)(h.b,{id:"Insufficient funds"})):ee===K.b.WARNING?c=Object(se.jsx)(h.b,{id:"Something went wrong. Please try again."}):A?ee===K.b.FETCHING_FINAL_ROUTE||ee===K.b.CONFIRMING_IN_WALLET?(n=!0,t=Object(se.jsx)(h.b,{id:"Proceed in wallet"})):ee===K.b.PROCESSING_TRANSACTION?(n=!0,t=Object(se.jsx)(h.b,{id:"Transaction pending"})):we&&Ce!==re.b.VALID?(n=!0,t=Object(se.jsx)(h.b,{id:"Fetching Route"}),Ce===re.b.INVALID&&(t=Object(se.jsx)(h.b,{id:"Pay"})),Ce===re.b.NO_ROUTE_FOUND&&(t=Object(se.jsx)(h.b,{id:"Insufficient liquidity"}),s=j.backgroundInteractive,l=j.textPrimary,a=Object(se.jsx)(h.b,{id:"Insufficient pool liquidity to complete transaction"}))):Le.state===C.a.REQUIRED||Le.state===C.a.LOADING?(e=function(){return Fe()},n=De||Be||Le.state===C.a.LOADING,Le.state===C.a.LOADING?t=Object(se.jsx)(h.b,{id:"Loading Allowance"}):De?t=Object(se.jsx)(h.b,{id:"Approve in your wallet"}):Be?t=Object(se.jsx)(h.b,{id:"Approval pending"}):(a=Object(se.jsx)(h.b,{id:"An approval is needed to use this token."}),t=Object(se.jsx)(h.b,{id:"Approve"}))):ee===K.b.CONFIRM_QUOTE?(n=!1,i=j.accentAction,c=Object(se.jsx)(h.b,{id:"Price updated"}),t=Object(se.jsx)(h.b,{id:"Pay"})):Ge&&"error"===Ge.priceImpactSeverity.type?(n=!1,s=Ge.priceImpactSeverity.color,a=Object(se.jsx)(h.b,{id:"Price impact warning"}),o=Ge.priceImpactSeverity.color,t=Object(se.jsx)(h.b,{id:"Pay Anyway"})):!0===He&&(n=!1,t=Object(se.jsx)(h.b,{id:"Pay"}),a=we?Object(se.jsx)(h.b,{id:"Refunds for unavailable items will be given in ETH"}):void 0):(e=function(){u(),ae({bagExpanded:!1})},n=!1,t=Object(se.jsx)(h.b,{id:"Connect wallet"})),{buttonText:t,buttonTextColor:l,disabled:n,warningText:c,warningTextColor:i,helperText:a,helperTextColor:o,handleClick:e,buttonColor:s}}),[r,j.accentWarning,j.textSecondary,j.accentAction,j.accentTextLightPrimary,j.backgroundInteractive,j.textPrimary,A,m,He,ee,we,Ce,Le.state,Ge,y,u,ae,De,Be,Fe]),Ye=Ve.buttonText,Xe=Ve.buttonTextColor,Je=Ve.disabled,Qe=Ve.warningText,$e=Ve.warningTextColor,Ke=Ve.helperText,Ze=Ve.helperTextColor,et=Ve.handleClick,tt=Ve.buttonColor,nt=Object(s.a)({usd_value:null===We||void 0===We?void 0:We.toExact(),using_erc20:!!M},c);return console.log(ee),Object(se.jsxs)(le,{children:[Object(se.jsxs)(ue,{children:[G&&Object(se.jsxs)(de,{gap:"xs",usingPayWithAnyToken:G,children:[Object(se.jsxs)(be,{children:[Object(se.jsxs)(O.d,{gap:"xs",children:[Object(se.jsx)(ce.o.SubHeaderSmall,{children:Object(se.jsx)(h.b,{id:"Pay with"})}),Object(se.jsxs)(he,{onClick:function(){J||(xe(!0),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_TOKEN_SELECTOR_CLICKED))},children:[Object(se.jsx)(w.a,{currency:ve,size:"24px"}),Object(se.jsx)(ce.o.HeadlineSmall,{fontWeight:500,lineHeight:"24px",children:null===ve||void 0===ve?void 0:ve.symbol}),Object(se.jsx)(te.a,{size:20,color:j.textSecondary})]})]}),Object(se.jsxs)(pe,{gap:"xs",children:[Object(se.jsx)(ce.o.SubHeaderSmall,{marginBottom:"4px",children:Object(se.jsx)(h.b,{id:"Total"})}),Object(se.jsx)(Ae,{usingPayWithAnyToken:we,totalEthPrice:n,activeCurrency:ve,tradeState:Ce,trade:Pe})]})]}),Object(se.jsx)(Ne,{usdcValue:We,priceImpact:Ge,tradeState:Ce,usingPayWithAnyToken:we})]}),!G&&Object(se.jsxs)(de,{gap:"xs",children:[Object(se.jsxs)(I.d,{justify:"space-between",children:[Object(se.jsx)("div",{children:Object(se.jsx)(ce.o.HeadlineSmall,{children:"Total"})}),Object(se.jsx)("div",{children:Object(se.jsxs)(ce.o.HeadlineSmall,{children:[Object(Z.l)(n.toString()),"\xa0",null!==(t=null===ve||void 0===ve?void 0:ve.symbol)&&void 0!==t?t:"ETH"]})})]}),Object(se.jsx)(Ne,{usdcValue:We,priceImpact:Ge,tradeState:Ce,usingPayWithAnyToken:we})]}),Object(se.jsxs)(d.TraceEvent,{events:[b.BrowserEvent.onClick],name:b.NFTEventName.NFT_BUY_BAG_PAY,element:b.InterfaceElementName.NFT_BUY_BAG_PAY_BUTTON,properties:Object(s.a)({},nt),shouldLogImpression:A&&!Je,children:[Object(se.jsx)(ke,{color:$e,children:Qe}),Object(se.jsx)(ye,{color:Ze,children:Ke}),Object(se.jsxs)(Ie,{onClick:et,disabled:Je||Oe,backgroundColor:tt,textColor:Xe,children:[Oe&&Object(se.jsx)(v.a,{size:"20px",stroke:"white"}),Ye]})]})]}),Object(se.jsx)(k.a,{isOpen:me,onDismiss:function(){return xe(!1)},onCurrencySelect:function(e){U(e.isNative?void 0:e),e.isToken&&Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_TOKEN_SELECTED,{token_address:e.address,token_symbol:e.symbol})},selectedCurrency:null!==ve&&void 0!==ve?ve:void 0,onlyShowCurrenciesWithBalance:!0})]})},Se=n(203),Ce=n(407),Pe=n(406),Re=n(608),_e=n(82),ze=n(256),Le=n(431),De=n(699),Be=n(264),Fe=n(58),Ge=n(512),Me=n(1560),Ue=n(1380),We=n(146),qe=Object(l.default)(O.d).withConfig({componentId:"sc-1e2ctc1-0"})(["position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:420px;z-index:",";background:",";border-radius:20px;border:1px solid ",";box-shadow:",";padding:20px 24px 24px;display:flex;flex-direction:column;gap:12px;@media screen and (max-width:","px){width:100%;}"],We.a.modal,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.deepShadow}),ce.a.sm),He=l.default.div.withConfig({componentId:"sc-1e2ctc1-1"})(["display:flex;width:100%;justify-content:flex-end;"]),Ve=Object(l.default)(Ue.a).withConfig({componentId:"sc-1e2ctc1-2"})(["cursor:pointer;&:hover{opacity:0.6;}"]),Ye=l.default.div.withConfig({componentId:"sc-1e2ctc1-3"})(["display:flex;width:100%;justify-content:center;align-items:center;padding:32px 120px;"]),Xe=Object(l.default)(Fe.h).withConfig({componentId:"sc-1e2ctc1-4"})(["font-weight:600;font-size:20px;line-height:24px;margin-top:12px;"]),Je=l.default.span.withConfig({componentId:"sc-1e2ctc1-5"})(["font-weight:600;font-size:16px;line-height:20px;color:",";text-align:center;cursor:pointer;padding:12px 16px;&:hover{opacity:0.6;}"],(function(e){return e.theme.accentAction})),Qe=function(e){var t,n,r=e.listingsBelowFloor,c=e.closeModal,i=e.startListing,a=Object(l.useTheme)();return Object(se.jsxs)(Ge.a,{children:[Object(se.jsxs)(qe,{children:[Object(se.jsxs)(He,{children:[Object(se.jsx)(Ve,{width:24,height:24,onClick:c})," "]}),Object(se.jsx)(Ye,{children:Object(se.jsx)(ee.a,{height:90,width:90,color:a.accentCritical})}),Object(se.jsx)(ce.o.HeadlineSmall,{lineHeight:"28px",textAlign:"center",children:Object(se.jsx)(h.b,{id:"Low listing price"})}),Object(se.jsxs)(ce.o.BodyPrimary,{textAlign:"center",children:[Object(se.jsx)(h.b,{id:"{0, plural, =1 {{1}} other {{2}}}",values:{0:1!==r.length?2:1,1:m.a._("One NFT is listed {0}%",{0:(100*(1-(null!==(t=r[0][1].price)&&void 0!==t?t:0)/(null!==(n=r[0][0].floorPrice)&&void 0!==n?n:0))).toFixed(0)}),2:m.a._("{0} NFTs are listed significantly",{0:r.length})}}),"\xa0",Object(se.jsx)(h.b,{id:"below the collection\u2019s floor price. Are you sure you want to continue?"})]}),Object(se.jsx)(Xe,{onClick:function(e){e.preventDefault(),e.stopPropagation(),i(),c()},children:Object(se.jsx)(h.b,{id:"Continue"})}),Object(se.jsx)(Je,{onClick:c,children:Object(se.jsx)(h.b,{id:"Edit listings"})})]}),Object(se.jsx)(Me.a,{onClick:c})]})},$e=(n(405),n(1571),"rgw6ez2cw rgw6ez2d9 rgw6ez2ie rgw6ez2ir rgw6ez2nq rgw6ez2o9 rgw6ez278 rgw6ez27r rgw6ez45e rgw6ezd2 rgw6ezb2 rgw6ezb9 rgw6eze8 rgw6ezef rgw6ez43w rgw6ez3k rgw6ez46q rgw6ez4w rgw6ez7c2"),Ke=n(506),Ze=n(234),et=n(704),tt=function(e){var t=e.listing,n=e.newStatus,c=e.rows,i=e.setRows,a=e.callback,o=Object(r.a)(c),s=c.findIndex((function(e){return e===t}));t.status=n,a&&(t.callback=a),o[s]=t,i(o)};function nt(e,t,n,r){return rt.apply(this,arguments)}function rt(){return(rt=Object(a.a)(i.a.mark((function e(t,n,r,c){var a,o,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return nt(t,n,r,c)},r(t,K.c.SIGNING,a),o=t.marketplace,s=t.collectionAddress,l=Ke.b[Ke.a.MAINNET],u="OpenSea"===o.name?Ze.b:"Rarible"===o.name?Le.a:"X2Y2"===o.name?Le.c:l.TRANSFER_MANAGER_ERC721,e.t0=!!s,!e.t0){e.next=9;break}return e.next=9,Object(et.b)(u,s,n,(function(e){return r(t,e,a)}));case 9:t.status!==K.c.REJECTED&&t.status!==K.c.FAILED||!c||c();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e,t,n,r,c,i,a){return it.apply(this,arguments)}function it(){return(it=Object(a.a)(i.a.mark((function e(t,n,r,c,a,o,s){var l,u,d,b,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=c(),u=function(){return ct(t,n,r,c,a,o,s)},o(t,K.c.SIGNING,u),d=t.asset,b=t.marketplace,e.next=6,Object(et.c)(b,d,n,r,l,(function(e){return o(t,e,u)}));case 6:p=e.sent,t.status===K.c.REJECTED&&s?s():p&&"LooksRare"===t.marketplace.name&&a(l+1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at=function(e){return e!==K.c.PAUSED&&e!==K.c.APPROVED},ot=function(e,t,n){e.status!==K.c.PENDING&&e.status!==K.c.DEFINED||tt({listing:e,newStatus:K.c.PAUSED,rows:t,setRows:n})},st=function(e,t,n){e.status!==K.c.PAUSED&&e.status!==K.c.FAILED&&e.status!==K.c.REJECTED||tt({listing:e,newStatus:K.c.DEFINED,rows:t,setRows:n})},lt=function(e){var t=e.onClick,n=e.buttonText,r=e.showWarningOverride,c=void 0!==r&&r,i=Object(ze.e)((function(e){return{addMarketplaceWarning:e.addMarketplaceWarning,sellAssets:e.sellAssets,removeAllMarketplaceWarnings:e.removeAllMarketplaceWarnings,showResolveIssues:e.showResolveIssues,toggleShowResolveIssues:e.toggleShowResolveIssues,issues:e.issues,setIssues:e.setIssues}}),oe.a),a=i.addMarketplaceWarning,s=i.sellAssets,u=i.removeAllMarketplaceWarnings,d=i.showResolveIssues,b=i.toggleShowResolveIssues,p=i.issues,j=i.setIssues,f=Object(ze.c)((function(e){return{listingStatus:e.listingStatus,setListingStatus:e.setListingStatus,setListings:e.setListings,setCollectionsRequiringApproval:e.setCollectionsRequiringApproval}}),oe.a),g=f.listingStatus,x=f.setListingStatus,O=f.setListings,v=f.setCollectionsRequiringApproval,w=Object(F.useState)(!1),I=Object(o.a)(w,2),k=I[0],y=I[1],A=Object(F.useState)(!1),N=Object(o.a)(A,2),E=N[0],T=N[1],S=Object(l.useTheme)();Object(F.useEffect)((function(){var e=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var c,i,a={images:[e.smallImageUrl,r.icon],name:e.name||"#".concat(e.tokenId),status:K.c.DEFINED,asset:e,marketplace:r,price:null===(c=e.newListings)||void 0===c||null===(i=c.find((function(e){return e.marketplace.name===r.name})))||void 0===i?void 0:i.price};if(n.push(a),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var o={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:K.c.DEFINED,collectionAddress:e.asset_contract.address,isVerified:e.collectionIsVerified,marketplace:r};t.push(o)}}))})),[t,n]}(s),t=Object(o.a)(e,2),n=t[0],r=t[1];O(r),v(n),x(K.c.DEFINED)}),[s]);var C=Object(F.useMemo)((function(){var e,t=s.some((function(e){return void 0===e.marketplaces})),n=s.some((function(e){return null!=e.expirationTime&&(isNaN(e.expirationTime)||1e3*e.expirationTime-Date.now()<6e4)})),r=s.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),c=s.some((function(e){return null!=e.expirationTime&&1e3*e.expirationTime-Date.now()>15552e6})),i=[],a=[],o=[],l=[],u=Object(G.a)(s);try{for(u.s();!(e=u.n()).done;){var p=e.value;if(p.newListings){var f,g=Object(G.a)(p.newListings);try{for(g.s();!(f=g.n()).done;){var h,m=f.value;m.price?isNaN(m.price)||m.price<0?l.push([p,m]):m.price<.8*(null!==(h=null===p||void 0===p?void 0:p.floorPrice)&&void 0!==h?h:0)&&!m.overrideFloorPrice?a.push([p,m]):p.floor_sell_order_price&&m.price>=p.floor_sell_order_price&&o.push([p,m]):i.push([p,m])}}catch(v){g.e(v)}finally{g.f()}}}}catch(v){u.e(v)}finally{u.f()}var x=Number(n)+Number(c)+i.length+o.length;j(x),!x&&d&&b(),(n||c||o.length)&&!d&&b();var O=0===a.length&&0===o.length;return T(O),[t,n,r,c,i,a,o,l]}),[s,j,d,b]),P=Object(o.a)(C,8),R=P[0],_=P[1],z=P[2],L=P[3],D=P[4],B=P[5],M=P[6],U=P[7],W=Object(F.useMemo)((function(){return[R||_||z||L||U.length>0||D.length>0,R?"No marketplaces selected":_?"Set duration":z?"Invalid duration":L?"Max duration is 6 months":D.length>0?"".concat(D.length," item price").concat(Object(Be.a)(D.length)," not set"):U.length>0?"".concat(U.length," price").concat(Object(Be.a)(U.length)," are invalid"):B.length>0?"".concat(B.length," item").concat(Object(Be.a)(B.length)," listed below floor"):M.length>0?"".concat(M.length," item").concat(Object(Be.a)(M.length)," already listed"):""]}),[R,_,z,L,D,U,B,M]),q=Object(o.a)(W,2),H=q[0],V=q[1];Object(F.useEffect)((function(){y(!1)}),[V]);var Y=function(){!H&&E||c?p?!d&&b():B.length?y(!0):t():function(){if(u(),!_&&!R)if(D.length>0){var e,t=Object(G.a)(D);try{for(t.s();!(e=t.n()).done;){var n=Object(o.a)(e.value,2),r=n[0],c=n[1];a(r,{message:"PLEASE SET A PRICE",marketplace:c.marketplace})}}catch(p){t.e(p)}finally{t.f()}}else if(U.length>0){var i,s=Object(G.a)(U);try{for(s.s();!(i=s.n()).done;){var l=Object(o.a)(i.value,2),d=l[0],b=l[1];!b.overrideFloorPrice&&a(d,{message:"INVALID PRICE",marketplace:b.marketplace})}}catch(p){s.e(p)}finally{s.f()}}y(!0)}()};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Se.a,{position:"relative",children:Object(se.jsx)(Se.a,{as:"button",border:"none",backgroundColor:d?"accentFailure":"accentAction",cursor:[K.c.APPROVED,K.c.PENDING,K.c.SIGNING].includes(g)||H?"default":"pointer",className:$e,onClick:function(){return g!==K.c.APPROVED&&Y()},type:"button",style:{color:d?S.accentTextLightPrimary:S.white,opacity:![K.c.DEFINED,K.c.FAILED,K.c.CONTINUE].includes(g)||H&&!d?.3:1},children:g===K.c.SIGNING?Object(se.jsx)(h.b,{id:"Proceed in wallet"}):g===K.c.PENDING?Object(se.jsx)(h.b,{id:"Pending"}):g===K.c.APPROVED?Object(se.jsx)(h.b,{id:"Complete!"}):g===K.c.PAUSED?Object(se.jsx)(h.b,{id:"Paused"}):g===K.c.FAILED?Object(se.jsx)(h.b,{id:"Try again"}):g===K.c.CONTINUE?Object(se.jsx)(h.b,{id:"Continue"}):d?Object(se.jsx)(h.b,{id:"{0, plural, =1 {Resolve issue} other {{1}}}",values:{0:1!==p?2:1,1:m.a._("Resolve {issues} issues",{issues:p})}}):n})}),k&&Object(se.jsx)(Qe,{listingsBelowFloor:B,closeModal:function(){return y(!1)},startListing:t})]})},ut=n(57),dt=n(698),bt=function(e){var t=e.sectionTitle,n=e.caption,r=void 0===n?void 0:n,c=e.title,s=void 0===c?void 0:c,l=e.rows,u=e.index,d=e.openIndex,b=e.isSuccessScreen,p=void 0!==b&&b,j=Object(F.useState)(!1),f=Object(o.a)(j,2),g=f[0],h=f[1],m=l.some((function(e){return e.status!==K.c.APPROVED})),x=Object(ze.e)((function(e){return e.sellAssets})),O=Object(ze.e)((function(e){return e.removeAssetMarketplace})),v=function(e){if(1===u){var t,n=Object(G.a)(x);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.asset_contract.address===e.collectionAddress&&O(r,e.marketplace)}}catch(c){n.e(c)}finally{n.f()}}else O(e.asset,e.marketplace)};function w(e){var t,n,r=e,c=r.asset.newListings;return null!==(t=null===c||void 0===c||null===(n=c.find((function(e){return e.marketplace.name===r.marketplace.name})))||void 0===n?void 0:n.price)&&void 0!==t?t:0}Object(F.useEffect)((function(){h(u===d)}),[u,d]);var I=!m&&l.length>0&&!p;return Object(se.jsxs)(Ce.c,{flexWrap:"wrap",className:Re.i,marginTop:"10",marginBottom:"10",onClick:function(){return l.length>0&&h(!g)},color:I?"accentSuccess":"textPrimary",children:[I&&Object(se.jsx)(Pe.a,{style:{marginRight:"8px"}}),t,!p&&Object(se.jsx)(Pe.j,{className:Object(ut.default)("".concat(g?"":"_13bxg42"," ").concat("rgw6ez19q rgw6ez12w rgw6ez7p6 rgw6ezpw rgw6ezq8"))}),(g||p)&&Object(se.jsxs)(Ce.b,{gap:"12",width:"full",paddingTop:p?"28":"auto",className:Object(ut.default)(!p&&"rgw6ez2t2 rgw6ez7bu rgw6ez50k rgw6ez7au rgw6ez7ka"),children:[r&&Object(se.jsx)(Se.a,{color:"textPrimary",fontWeight:"normal",className:r,children:r}),s&&Object(se.jsx)(Se.a,{color:"textSecondary",className:Re.a,children:s}),Object(se.jsx)(Ce.b,{gap:"8",children:l.map((function(e,t){var n,r;return Object(se.jsxs)(Ce.b,{gap:"8",children:[Object(se.jsxs)(Ce.c,{children:[null===(n=e.images)||void 0===n?void 0:n.map((function(t,n){return Object(se.jsx)(Se.a,{as:"img",height:"20",width:"20",borderRadius:0===n&&e.collectionAddress?"round":"4",style:{zIndex:2-n},className:"_13bxg48 rgw6ez7ka rgw6ez7au rgw6ez50q",src:t,alt:e.name},n)})),Object(se.jsx)(Se.a,{marginLeft:"8",marginRight:"auto",fontWeight:"normal",color:"textPrimary",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:{sm:"max",md:e.status===K.c.REJECTED||e.status===K.c.FAILED?"120":"full"},className:Re.c,children:e.name}),p?w(e)&&"".concat(Object(dt.b)(Object(dt.f)(null!==(r=w(e))&&void 0!==r?r:0).toString())," ETH"):e.status===K.c.APPROVED?Object(se.jsx)(Pe.a,{height:"20",width:"20"}):e.status===K.c.FAILED||e.status===K.c.REJECTED?Object(se.jsxs)(Ce.c,{gap:"4",children:[Object(se.jsx)(Se.a,{fontWeight:"normal",fontSize:"14",color:"textSecondary",children:e.status}),Object(se.jsx)(Pe.m,{})]}):e.status===K.c.SIGNING&&Object(se.jsx)(Pe.p,{height:"20",width:"20",stroke:"#4673FA"})]}),(e.status===K.c.FAILED||e.status===K.c.REJECTED)&&Object(se.jsxs)(Ce.c,{gap:"8",justifyContent:"center",children:[Object(se.jsx)(Se.a,{width:"120",as:"button",className:Re.e,borderRadius:"12",border:"none",color:"red400",height:"32",cursor:"pointer",style:{backgroundColor:"#FA2B391A"},onClick:function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),v(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}),Object(se.jsx)(Se.a,{width:"120",as:"button",className:Re.e,borderRadius:"12",border:"none",color:"accentAction",height:"32",cursor:"pointer",style:{backgroundColor:"#4C82FB29"},onClick:function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),!e.callback){t.next=4;break}return t.next=4,e.callback();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Try again"})]})]},t)}))})]})]})},pt=function(){var e=Object(p.useWeb3React)().provider,t=Object(ze.e)((function(e){return e.sellAssets})),n=Object(ze.c)((function(e){return{listingStatus:e.listingStatus,setListingStatus:e.setListingStatus,setListings:e.setListings,setCollectionsRequiringApproval:e.setCollectionsRequiringApproval,setListingStatusAndCallback:e.setListingStatusAndCallback,setCollectionStatusAndCallback:e.setCollectionStatusAndCallback,looksRareNonce:e.looksRareNonce,setLooksRareNonce:e.setLooksRareNonce,getLooksRareNonce:e.getLooksRareNonce,collectionsRequiringApproval:e.collectionsRequiringApproval,listings:e.listings}}),oe.a),r=n.listingStatus,c=n.setListingStatus,l=n.setListings,u=n.setCollectionsRequiringApproval,j=n.setListingStatusAndCallback,f=n.setCollectionStatusAndCallback,g=n.looksRareNonce,h=n.setLooksRareNonce,m=n.getLooksRareNonce,x=n.collectionsRequiringApproval,O=n.listings,v=null===e||void 0===e?void 0:e.getSigner(),w=Object(F.useState)(0),I=Object(o.a)(w,2),k=I[0],y=I[1],A=Object(F.useState)(!1),N=Object(o.a)(A,2),E=N[0],T=N[1],S=Object(ze.a)((function(e){return e.toggleBag})),C=Object(F.useRef)(g),P=Object(ze.b)(),R=Object(d.useTrace)({modal:b.InterfaceModalName.NFT_LISTING});Object(F.useEffect)((function(){ze.c.subscribe((function(e){return C.current=e.looksRareNonce}))}),[]);var _=Object(F.useMemo)((function(){return function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,c,i,a=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t})),o=a.marketplace.fee+("LooksRare"===a.marketplace.name?et.a:null!==(r=null===t||void 0===t?void 0:t.basisPoints)&&void 0!==r?r:0)/100;return e+(null!==(c=a.price)&&void 0!==c?c:0)-(null!==(i=a.price)&&void 0!==i?i:0)*(o/100)}return e}),0);return t?Math.round(1e4*t+Number.EPSILON)/1e4:0}(t)}),[t]),z=Object(F.useState)(0),L=Object(o.a)(z,2),D=L[0],B=L[1];Object(F.useEffect)((function(){Object(De.a)().then((function(e){B(e||0)}))}),[]);var M=Object(s.a)({collection_addresses:t.map((function(e){return e.asset_contract.address})),token_ids:t.map((function(e){return e.tokenId})),marketplaces:Array.from(new Set(O.map((function(e){return e.marketplace.name})))),list_quantity:O.length,usd_value:D*_},R);Object(F.useEffect)((function(){(null===x||void 0===x?void 0:x.length)&&T(x.every((function(e){return e.status===K.c.APPROVED}))),!E||r!==K.c.PENDING&&r!==K.c.CONTINUE&&r!==K.c.SIGNING||(Y(),H())}),[x,E]);var U=Object(F.useMemo)((function(){return x.every((function(e){return e.status===K.c.APPROVED||e.status===K.c.PAUSED}))}),[x]),W=Object(F.useMemo)((function(){return O.every((function(e){return e.status===K.c.APPROVED||e.status===K.c.PAUSED}))}),[O]);Object(F.useEffect)((function(){r===K.c.SIGNING&&U&&W&&Y()}),[U,W]);var q=function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_SELL_START_LISTING,Object(s.a)({},M)),c(K.c.SIGNING),e.next=6,v.getAddress();case 6:return t=e.sent,e.next=9,Object(Le.h)(t);case 9:n=e.sent,h(null!==n&&void 0!==n?n:0),(null===x||void 0===x?void 0:x.some((function(e){return e.status===K.c.PAUSED})))||(c(K.c.SIGNING),y(1)),r=Object(G.a)(x),e.prev=13,r.s();case 15:if((a=r.n()).done){e.next=27;break}if(o=a.value,e.t0=at(o.status),!e.t0){e.next=25;break}if(!P){e.next=24;break}return e.next=22,nt(o,v,f,V);case 22:e.next=25;break;case 24:nt(o,v,f,V);case 25:e.next=15;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(13),r.e(e.t1);case 32:return e.prev=32,r.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[13,29,32,35]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var t=Object(a.a)(i.a.mark((function t(){var n,r,a,o,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v&&e){t.next=2;break}return t.abrupt("return");case 2:c(K.c.SIGNING),y(2),r=Object(G.a)(O),t.prev=5,r.s();case 7:if((a=r.n()).done){t.next=15;break}if(o=a.value,t.t0=at(o.status),!t.t0){t.next=13;break}return t.next=13,ct(o,v,e,m,h,j,V);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),r.e(t.t1);case 20:return t.prev=20,r.f(),t.finish(20);case 23:return l=O.every((function(e){return e.status===K.c.APPROVED})),u=O.some((function(e){return e.status===K.c.PAUSED})),l?(y(0),c(K.c.APPROVED)):u||c(K.c.FAILED),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_LISTING_COMPLETED,Object(s.a)({signatures_approved:O.filter((function(e){return e.status===K.c.APPROVED})),list_quantity:O.length,usd_value:D*_},R)),t.t2=Le.g,t.t3=O,t.next=31,null===v||void 0===v?void 0:v.getAddress();case 31:if(t.t5=n=t.sent,t.t4=null!==t.t5,!t.t4){t.next=35;break}t.t4=void 0!==n;case 35:if(!t.t4){t.next=39;break}t.t6=n,t.next=40;break;case 39:t.t6="";case 40:return t.t7=t.t6,t.next=43,(0,t.t2)(t.t3,t.t7);case 43:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var e,t=Object(G.a)(x);try{for(t.s();!(e=t.n()).done;){var n=e.value;ot(n,x,u)}}catch(a){t.e(a)}finally{t.f()}var r,c=Object(G.a)(O);try{for(c.s();!(r=c.n()).done;){var i=r.value;ot(i,O,l)}}catch(a){c.e(a)}finally{c.f()}},Y=function(){var e,t=Object(G.a)(x);try{for(t.s();!(e=t.n()).done;){var n=e.value;st(n,x,u)}}catch(a){t.e(a)}finally{t.f()}var r,c=Object(G.a)(O);try{for(c.s();!(r=c.n()).done;){var i=r.value;st(i,O,l)}}catch(a){c.e(a)}finally{c.f()}},X=Object(F.useMemo)((function(){return r===K.c.APPROVED}),[r]);return Object(se.jsx)(d.Trace,{modal:b.InterfaceModalName.NFT_LISTING,children:Object(se.jsxs)(Ce.b,{paddingTop:"20",paddingBottom:"20",paddingLeft:"12",paddingRight:"12",children:[Object(se.jsxs)(Ce.c,{className:Re.h,marginBottom:"10",children:[P&&!X&&Object(se.jsx)(Se.a,{paddingTop:"4",marginRight:"4",onClick:S,children:Object(se.jsx)(Pe.g,{height:28,width:28})}),X?"Success!":"Listing ".concat(t.length," NFTs"),Object(se.jsx)(Se.a,{as:"button",border:"none",color:"textSecondary",backgroundColor:"backgroundSurface",marginLeft:"auto",marginRight:"0",paddingRight:"0",display:{sm:"flex",md:"none"},cursor:"pointer",onClick:S,children:Object(se.jsx)(Pe.C,{height:28,width:28,fill:_e.b.colors.textPrimary})})]}),Object(se.jsx)(Ce.b,{overflowX:"hidden",overflowY:"auto",style:{maxHeight:"60vh"},children:X?Object(se.jsx)(d.Trace,{name:b.NFTEventName.NFT_LISTING_COMPLETED,properties:Object(s.a)({list_quantity:O.length,usd_value:D*_},R),shouldLogImpression:!0,children:Object(se.jsx)(bt,{sectionTitle:"Listed ".concat(O.length," item").concat(Object(Be.a)(O.length)," for sale"),rows:O,index:0,openIndex:k,isSuccessScreen:!0})}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(bt,{sectionTitle:"Approve ".concat(x.length," collection").concat(Object(Be.a)(x.length)),title:"COLLECTIONS",rows:x,index:1,openIndex:k}),Object(se.jsx)(bt,{sectionTitle:"Confirm ".concat(O.length," listing").concat(Object(Be.a)(O.length)),caption:"Now you can sign to list each item",title:"NFTS",rows:O,index:2,openIndex:k})]})}),Object(se.jsx)("hr",{className:"rgw6ez7ce rgw6ezwk rgw6ez16w rgw6ez7k6 rgw6ez7au rgw6ez50k"}),Object(se.jsxs)(Ce.c,{className:Re.i,marginTop:"12",marginBottom:X?"8":"20",children:["Return if sold",Object(se.jsxs)(Ce.c,{className:Re.j,marginLeft:"auto",marginRight:"0",children:[_,"\xa0ETH"]})]}),X?Object(se.jsxs)(Se.a,{as:"span",className:Re.f,color:"textSecondary",children:["Status:"," ",Object(se.jsx)(Se.a,{as:"span",color:"accentSuccess",children:"Confirmed"})]}):Object(se.jsx)(lt,{onClick:function(){Y(),E?H():q()},buttonText:"Start listing",showWarningOverride:P}),(r===K.c.PENDING||r===K.c.SIGNING)&&Object(se.jsx)(Se.a,{as:"button",border:"none",backgroundColor:"backgroundSurface",cursor:"pointer",color:"orange",className:$e,onClick:function(){V()},type:"button",children:"Stop listing"})]})})};function jt(e){return{action:K.f.Buy,marketplace:e.marketplace.toLowerCase(),amountIn:e.price.value,assetIn:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},amountOut:e.amount.toString(),assetOut:{id:e.id,decimals:18,address:e.contractAddress,priceInfo:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},tokenType:e.tokenType,tokenId:e.tokenId,amount:e.amount.toString(),marketplace:e.marketplace.toLowerCase(),orderSource:"api"}}}function ft(e,t){var n=e.route?e.route.map(jt):[];return{route:n,routeResponse:{route:n,valueToSend:t?void 0:e.sendAmount.value,data:e.calldata,to:e.toAddress}}}var gt,ht,mt=n(846),xt=n(481),Ot=(n(1572),n(41)),vt=Object(l.keyframes)(gt||(gt=Object(Ot.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),wt=l.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],vt,vt,(function(e){return e.theme.accentAction})),It=function(){return Object(se.jsx)(Se.a,{display:"flex",position:"absolute",children:Object(se.jsx)("svg",{height:"18px",width:"18px",children:Object(se.jsx)(wt,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},kt=n(1549),yt=(n(701),n(1573),"12");!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Audio=2]="Audio"}(ht||(ht={}));l.default.a.withConfig({componentId:"sc-1xq4e4s-0"})(["display:flex;align-items:center;flex-shrink:0;text-decoration:none;font-size:14px;font-weight:500;border:1px solid;color:",";border-color:",";padding:2px 6px;border-radius:6px;",";"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentActionSoft}),kt.a);var At=Object(l.default)(ee.a).withConfig({componentId:"sc-1xq4e4s-1"})(["width:16px;height:16px;color:",";"],(function(e){return e.theme.accentFailure}));l.default.div.withConfig({componentId:"sc-1xq4e4s-2"})(["position:absolute;display:flex;width:100%;bottom:12px;z-index:2;justify-content:center;"]),l.default.div.withConfig({componentId:"sc-1xq4e4s-3"})(["display:flex;border:1px solid ",";border-radius:","px;overflow:hidden;"],(function(e){return e.theme.backgroundOutline}),yt),Object(l.default)(ce.o.HeadlineSmall).withConfig({componentId:"sc-1xq4e4s-4"})(["display:flex;padding:6px 8px;width:60px;background:",";justify-content:center;cursor:default;"],(function(e){return e.theme.backgroundBackdrop})),l.default.div.withConfig({componentId:"sc-1xq4e4s-5"})(["display:flex;justify-content:center;align-items:center;width:40px;background:",";color:",";:hover{color:",";}"],(function(e){return e.theme.backgroundInteractive}),(function(e){return e.theme.textPrimary}),(function(e){return e.theme.accentAction})),l.default.div.withConfig({componentId:"sc-1xq4e4s-6"})(["position:absolute;top:12px;left:12px;z-index:2;"]),l.default.div.withConfig({componentId:"sc-1xq4e4s-7"})(["position:relative;pointer-events:auto;&:hover{opacity:",";}cursor:",";"],(function(e){var t=e.isDisabled,n=e.theme;return t?n.opacity.disabled:n.opacity.enabled}),(function(e){return e.isDisabled?"default":"pointer"}));Object(l.default)(Ce.c).withConfig({componentId:"sc-1xq4e4s-8"})(["padding:2px;white-space:pre;text-overflow:ellipsis;display:block;overflow:hidden;flex:1;"]);var Nt=function(){return Object(se.jsx)(A.a,{text:Object(se.jsx)(Se.a,{className:Re.c,children:"Blocked on OpenSea"}),placement:"top",children:Object(se.jsx)(Se.a,{display:"flex",flexShrink:"0",marginLeft:"4",children:Object(se.jsx)(At,{})})})},Et=(n(1574),n(161)),Tt=(n(610),n(1575),"_1kuawc1 rgw6ez2cw rgw6ez2ie rgw6ez2nk rgw6ez272 rgw6ez4dq rgw6ez3sk rgw6ez7ai rgw6ez1dq rgw6ez7c2"),St="rgw6ez14e rgw6ez1b8 rgw6ez48q rgw6ez7bu",Ct="_1kuawc7",Pt="_1kuawcb rgw6ezb2 rgw6ezcw rgw6ez7mm rgw6ez44w rgw6ez44q",Rt="rgw6ezcq rgw6ezaw rgw6eze8 rgw6ez7mm rgw6ez44q rgw6ez44w rgw6ez4dw",_t="rgw6ez3ww",zt=Object(l.default)(Fe.l).withConfig({componentId:"sc-iebvtt-0"})(["border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;"]),Lt=Object(l.default)(Fe.l).withConfig({componentId:"sc-iebvtt-1"})(["border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;"]),Dt=l.default.div.withConfig({componentId:"sc-iebvtt-2"})(["position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;"]),Bt=function(e){var t=e.onClick;return Object(se.jsx)(Dt,{onClick:t,children:Object(se.jsx)(Pe.k,{})})},Ft=function(){return Object(se.jsx)(Se.a,{position:"relative",background:"loadingBackground",className:St,children:Object(se.jsxs)(Se.a,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",fontSize:"12",fontWeight:"normal",children:["Image",Object(se.jsx)("br",{}),"not",Object(se.jsx)("br",{}),"available"]})})},Gt=function(e){var t,n=e.asset,r=e.usdPrice,c=e.removeAsset,i=e.showRemove,a=e.grayscale,s=e.isMobile,l=Object(F.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1],p=Object(F.useState)(!n.smallImageUrl),j=Object(o.a)(p,2),f=j[0],g=j[1],h=Object(F.useState)(!1),m=Object(o.a)(h,2),O=m[0],v=m[1],w=Object(F.useCallback)((function(){return v(!0)}),[]),I=Object(F.useCallback)((function(){return v(!1)}),[]),k=Boolean(i&&O&&!s),y=n.updatedPriceInfo?n.updatedPriceInfo.ETHPrice:n.priceInfo.ETHPrice,A=Object(Z.l)(y),N=Object(Z.e)(r?parseFloat(Object(x.formatEther)(y))*r:r,!0),E=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),c([n])}),[n,c]);return Object(se.jsx)(Et.b,{to:Object(Z.n)(n),style:{textDecoration:"none"},children:Object(se.jsxs)(Ce.c,{className:Tt,onMouseEnter:w,onMouseLeave:I,children:[Object(se.jsxs)(Se.a,{position:"relative",display:"flex",children:[i&&s&&Object(se.jsx)(Bt,{onClick:E}),!f&&Object(se.jsx)(Se.a,{as:"img",src:n.smallImageUrl,alt:n.name,className:Object(ut.default)(St,a&&!O&&Ct),onLoad:function(){b(!0)},onError:function(){g(!0)},visibility:d?"visible":"hidden"}),!d&&Object(se.jsx)(Se.a,{position:"absolute",className:"".concat(St," ").concat("_2kdvfw1")}),f&&Object(se.jsx)(Ft,{})]}),Object(se.jsxs)(Ce.b,{overflow:"hidden",width:"full",color:a?"textSecondary":"textPrimary",children:[Object(se.jsxs)(Ce.c,{overflow:"hidden",width:"full",whiteSpace:"nowrap",children:[Object(se.jsx)(Se.a,{className:Pt,children:null!==(t=n.name)&&void 0!==t?t:"#".concat(n.tokenId)}),n.susFlag&&Object(se.jsx)(Nt,{})]}),Object(se.jsxs)(Ce.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(se.jsx)(Se.a,{className:Rt,children:n.collectionName}),n.collectionIsVerified&&Object(se.jsx)(Pe.B,{className:_t})]})]}),k&&Object(se.jsx)(zt,{onClick:E,emphasis:Fe.c.medium,size:Fe.j.medium,children:"Remove"}),(!k||s)&&Object(se.jsxs)(Ce.b,{flexShrink:"0",alignItems:"flex-end",children:[Object(se.jsxs)(Se.a,{className:"_1kuawc9 rgw6ez3rw rgw6ezb2 rgw6ezd2 rgw6ez3ww",children:[A,"\xa0ETH"]}),Object(se.jsx)(Se.a,{className:Rt,children:N})]})]})})},Mt=function(e){var t,n=e.asset,r=e.usdPrice,c=e.markAssetAsReviewed,i=e.top,a=e.isMobile,o=u.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(u.a.from(n.priceInfo.ETHPrice)),s=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!1)}),[n,c]),l=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!0)}),[n,c]);return Object(se.jsxs)(Ce.b,{className:"rgw6ez2o8 rgw6ez27q rgw6ezlk rgw6ezr2 rgw6ez4rw rgw6ez3s8 rgw6ez4dq rgw6ez7au rgw6ez7ka rgw6ez53q rgw6ez5ok rgw6ez1dq rgw6ez7ai",borderTopColor:i?"backgroundOutline":"transparent",children:[Object(se.jsxs)(Ce.c,{className:"rgw6ezcq rgw6ezaw rgw6eze8 rgw6ez4be rgw6ez3rw",children:[o?Object(se.jsx)(Pe.x,{}):Object(se.jsx)(Pe.w,{}),Object(se.jsx)(Se.a,{children:"Price ".concat(o?"increased":"decreased"," from ").concat(Object(Z.l)(n.priceInfo.ETHPrice)," ETH")})]}),Object(se.jsx)(Se.a,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(se.jsx)(Gt,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:a})}),Object(se.jsxs)(Ce.c,{gap:"8",justifyContent:"space-between",children:[Object(se.jsx)(Lt,{onClick:s,emphasis:Fe.c.medium,size:Fe.j.small,children:"Remove"}),Object(se.jsx)(Lt,{onClick:l,emphasis:Fe.c.high,size:Fe.j.small,children:"Keep"})]})]})},Ut=function(e){var t=e.assets;return Object(se.jsx)(Ce.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(se.jsx)(Se.a,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:Ct},"".concat(e.address,"-").concat(e.tokenId))}))})},Wt=function(e){var t=e.assets,n=e.usdPrice,r=e.clearUnavailableAssets,c=e.didOpenUnavailableAssets,i=e.setDidOpenUnavailableAssets,a=e.isMobile,s=Object(F.useReducer)((function(e){return!e}),!1),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(F.useState)(8),p=Object(o.a)(b,2),j=p[0],f=p[1];if(Object(F.useEffect)((function(){if(j){var e=setInterval((function(){f(j-1)}),1e3);return function(){return clearInterval(e)}}c||(r(),i(!1))}),[j,r,c,i]),!t||0===t.length)return null;var g=t.length>1,h=u||!g;return Object(se.jsx)(Ce.b,{className:"rgw6ez2o8 rgw6ez27q rgw6ezlk rgw6ezr2 rgw6ez4rw rgw6ez3sk rgw6ez4dq rgw6ez7au rgw6ez7ka rgw6ez53q rgw6ez60k rgw6ez5ok rgw6ez1dq",children:Object(se.jsxs)(Ce.b,{children:[Object(se.jsxs)(Ce.c,{justifyContent:"space-between",marginBottom:h?"12":"0",cursor:g?"pointer":"default",onClick:function(){g&&(!c&&i(!0),d())},children:[Object(se.jsxs)(Ce.c,{gap:"12",color:"textSecondary",className:Re.c,children:[!h&&Object(se.jsx)(Ut,{assets:t.slice(0,5)}),"No longer available"]}),g&&Object(se.jsx)(Ce.c,{color:"textSecondary",children:u?Object(se.jsx)(Pe.i,{}):Object(se.jsx)(Pe.f,{})}),!c&&Object(se.jsxs)(Ce.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:r,children:[Object(se.jsx)(It,{}),Object(se.jsx)(Pe.l,{})]})]}),Object(se.jsx)(Ce.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:h&&t.map((function(e){return Object(se.jsx)(Gt,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:a},e.id)}))})]})})},qt=function(){var e=Object(ze.a)((function(e){return e.bagStatus})),t=Object(ze.a)((function(e){return e.setBagStatus})),n=Object(ze.a)((function(e){return e.markAssetAsReviewed})),r=Object(ze.a)((function(e){return e.didOpenUnavailableAssets})),c=Object(ze.a)((function(e){return e.setDidOpenUnavailableAssets})),i=Object(ze.a)((function(e){return e.itemsInBag})),a=Object(ze.a)((function(e){return e.setItemsInBag})),o=Object(ze.a)((function(e){return e.removeAssetsFromBag})),l=Object(ze.b)(),u=Object(F.useMemo)((function(){return Object(Z.w)(i)}),[i]),p=Object(xt.useQuery)(["fetchPrice",{}],(function(){return Object(Z.g)()}),{}).data,j=Object(F.useMemo)((function(){return{unchangedAssets:u.filter((function(e){return e.status===K.a.ADDED_TO_BAG||e.status===K.a.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:u.filter((function(e){return e.status===K.a.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:u.filter((function(e){return e.status===K.a.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:u.filter((function(e){return e.status!==K.a.UNAVAILABLE}))}}),[u]),f=j.unchangedAssets,g=j.priceChangedAssets,h=j.unavailableAssets,m=j.availableItems;return Object(F.useEffect)((function(){var n=g.length>0,r=u.length>0;n&&Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_BAG_CHANGED,Object(s.a)({usd_value:p,bag_quantity:u},Object(Z.h)(g))),e!==K.b.IN_REVIEW||n||t(r?K.b.CONFIRM_REVIEW:K.b.ADDING_TO_BAG),e!==K.b.CONFIRM_REVIEW||r||t(K.b.ADDING_TO_BAG)}),[e,u,g,t,p]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(Ce.b,{display:g.length>0||h.length>0?"flex":"none",children:[h.length>0&&Object(se.jsx)(d.Trace,{name:b.NFTEventName.NFT_BUY_BAG_CHANGED,properties:Object(s.a)({usd_value:p,bag_quantity:u.length},Object(Z.h)(h)),shouldLogImpression:!0,children:Object(se.jsx)(Wt,{assets:h,usdPrice:p,clearUnavailableAssets:function(){return a(m)},didOpenUnavailableAssets:r,setDidOpenUnavailableAssets:c,isMobile:l})}),g.map((function(e,t){return Object(se.jsx)(Mt,{asset:e,usdPrice:p,markAssetAsReviewed:n,top:0===t&&0===h.length,isMobile:l},e.id)}))]}),Object(se.jsx)(Ce.b,{children:f.slice(0).reverse().map((function(e){return Object(se.jsx)(Gt,{asset:e,usdPrice:p,removeAsset:o,showRemove:!0,isMobile:l},e.id)}))})]})},Ht=Object(l.default)(ce.b).withConfig({componentId:"sc-bq6y8h-0"})(["color:",";cursor:pointer;font-weight:600;font-size:14px;line-height:16px;:active{text-decoration:none;}"],(function(e){return e.theme.textSecondary})),Vt=l.default.button.withConfig({componentId:"sc-bq6y8h-1"})(["align-items:center;background-color:transparent;border-radius:8px;border:none;color:",";cursor:pointer;display:flex;flex-direction:row;justify-content:flex-end;margin-left:auto;padding:2px;opacity:1;",""],(function(e){return e.theme.textPrimary}),kt.a),Yt=l.default.div.withConfig({componentId:"sc-bq6y8h-2"})(["align-items:center;background-color:",";border-radius:100px;font-weight:bold;color:",";display:flex;font-size:10px;justify-content:center;min-width:",";min-height:",";padding:4px 6px;"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.sizing}),(function(e){return e.sizing})),Xt=l.default.div.withConfig({componentId:"sc-bq6y8h-3"})(["align-items:center;display:flex;flex-direction:row;gap:8px;justify-content:flex-start;margin:16px 28px;text-align:center;"]),Jt=function(e){var t=e.numberOfAssets,n=e.closeBag,r=e.resetFlow,c=e.isProfilePage,i=Object(F.useMemo)((function(){return function(e){var t=e.toString().length;return"".concat(14+6*t,"px")}(t)}),[t]);return Object(se.jsxs)(Xt,{children:[Object(se.jsx)(ce.o.HeadlineSmall,{children:c?Object(se.jsx)(h.b,{id:"Sell"}):Object(se.jsx)(h.b,{id:"Bag"})}),t>0&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Yt,{sizing:i,children:t}),Object(se.jsx)(Ht,{onClick:r,children:Object(se.jsx)(h.b,{id:"Clear all"})})]}),Object(se.jsx)(Vt,{onClick:n,children:Object(se.jsx)(Pe.c,{"data-testid":"nft-bag-close-icon"})})]})},Qt=Object(l.default)(Ce.b).withConfig({componentId:"sc-xhr1rt-0"})(["gap:12px;margin-top:68px;"]),$t=function(){var e=Object(g.c)();return Object(se.jsxs)(Qt,{children:[Object(se.jsx)(Ce.a,{children:e?Object(se.jsx)(Pe.n,{color:_e.b.colors.textTertiary}):Object(se.jsx)(Pe.d,{color:_e.b.colors.textTertiary,height:"96px",width:"96px",strokeWidth:"1px"})}),e?Object(se.jsx)(Ce.a,{"data-testid":"nft-no-nfts-selected",className:Re.i,children:"No NFTs selected"}):Object(se.jsxs)(Ce.b,{gap:"16",children:[Object(se.jsx)(Ce.a,{"data-testid":"nft-empty-bag",className:Re.i,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(se.jsx)(Ce.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})},Kt=function(e){var t=e.asset,n=Object(ze.e)((function(e){return e.removeSellAsset})),r=Object(ze.b)(),c=Object(F.useState)(!1),i=Object(o.a)(c,2),a=i[0],s=i[1],l=function(){return s(!a)},u=function(e){e.preventDefault(),e.stopPropagation(),n(t)};return Object(se.jsxs)(Ce.c,{className:Tt,onMouseEnter:l,onMouseLeave:l,children:[Object(se.jsxs)(Se.a,{position:"relative",display:"flex",children:[r&&Object(se.jsx)(Bt,{onClick:u}),Object(se.jsx)("img",{src:t.smallImageUrl,alt:t.name,className:St})]}),Object(se.jsxs)(Ce.b,{overflow:"hidden",width:"full",color:"textPrimary",children:[Object(se.jsx)(Ce.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(se.jsx)(Se.a,{className:Pt,children:t.name||"#".concat(t.tokenId)})}),Object(se.jsxs)(Ce.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(se.jsx)(Se.a,{className:Rt,children:t.asset_contract.name}),t.collectionIsVerified&&Object(se.jsx)(Pe.B,{className:_t})]})]}),a&&!r&&Object(se.jsx)(zt,{onClick:u,emphasis:Fe.c.medium,size:Fe.j.medium,children:"Remove"})]})},Zt=function(){var e=Object(ze.e)((function(e){return e.sellAssets}));return Object(se.jsx)(Ce.b,{children:e.length?e.map((function(e,t){return Object(se.jsx)(Kt,{asset:e},t)})):null})},en=320,tn=360,nn=l.default.div.withConfig({componentId:"sc-1cpp7nx-0"})(["position:fixed;display:flex;flex-direction:column;top:88px;right:20px;width:","px;height:calc(100vh - 108px);background:",";border:1px solid ",";border-radius:16px;box-shadow:",";z-index:",";@media only screen and (max-width:","){right:0px;top:0px;width:100%;height:100%;border-radius:0px;border:none;}@media only screen and (min-width:","){width:","px;}"],en,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.shallowShadow}),(function(e){var t=e.raiseZIndex,n=e.isProfilePage;return t?n?We.a.modalOverTooltip:We.a.modalBackdrop-1:3}),(function(e){var t=e.theme;return"".concat(t.breakpoint.sm,"px")}),(function(e){var t=e.theme;return"".concat(t.breakpoint.xxxl,"px")}),tn),rn=l.default.div.withConfig({componentId:"sc-1cpp7nx-1"})(["position:fixed;background:rgba(0,0,0,0.7);top:0px;width:100%;height:100%;"]),cn=function(e){var t=e.top,n=e.show;return Object(se.jsx)(Se.a,{marginX:"24",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})};t.default=function(){var e=Object(p.useWeb3React)(),t=e.account,n=e.provider,c=Object(ze.e)((function(e){return{resetSellAssets:e.reset,sellAssets:e.sellAssets}}),oe.a),l=c.resetSellAssets,h=c.sellAssets,m=Object(ze.d)((function(e){var t=e.setProfilePageState;return{profilePageState:e.state,setProfilePageState:t}}),oe.a),x=m.profilePageState,O=m.setProfilePageState,v=Object(ze.a)((function(e){return Object(s.a)(Object(s.a)({},e),{},{bagIsLocked:e.isLocked,uncheckedItemsInBag:e.itemsInBag})}),oe.a),w=v.bagStatus,I=v.setBagStatus,k=v.didOpenUnavailableAssets,y=v.setDidOpenUnavailableAssets,A=v.bagIsLocked,N=v.setLocked,E=v.reset,T=v.setItemsInBag,S=v.bagExpanded,C=v.toggleBag,P=v.setTotalEthPrice,R=v.setBagExpanded,_=Object(ze.a)((function(e){return{uncheckedItemsInBag:e.itemsInBag}})).uncheckedItemsInBag,z=Object(g.c)(),L=Object(g.a)(),D=Object(g.b)(),B=Object(ze.b)(),G=Object(j.d)(j.b.gqlRouting,j.a.Enabled)===j.a.Enabled,M=Object(ze.f)((function(e){return e.sendTransaction})),U=Object(ze.f)((function(e){return e.state})),W=Object(ze.f)((function(e){return e.setState})),q=Object(F.useRef)(U),H=Object(ze.g)((function(e){return[e.setTransactionResponse]})),Y=Object(o.a)(H,1)[0],X=V((function(e){return e.tokenTradeInput})),J=Object(xt.useQueryClient)(),Q=Object(F.useMemo)((function(){return Object(Z.w)(_)}),[_]),$=Object(F.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(F.useState)(!1),ce=Object(o.a)(re,2),ie=ce[0],ae=ce[1],le=Object(F.useState)(0),ue=Object(o.a)(le,2),de=ue[0],be=ue[1],pe=Object(F.useMemo)((function(){return{totalEthPrice:Q.reduce((function(e,t){return t.status!==K.a.UNAVAILABLE?e.add(u.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),u.a.from(0))}}),[Q]).totalEthPrice,je=function(){var e=Object(a.a)(i.a.mark((function e(t,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M(null===n||void 0===n?void 0:n.getSigner(),Q.filter((function(e){return e.status!==K.a.UNAVAILABLE})).map((function(e){return e.asset})),t,r);case 4:!(c=e.sent)||q.current!==K.g.Success&&q.current!==K.g.Failed||(N(!1),ne(!1),Y(c),R({bagExpanded:!1}),E());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=Object(F.useCallback)((function(){R({bagExpanded:!1,manualClose:!0})}),[R]),ge=Object(f.d)(),he=Object(o.a)(ge,1)[0],me=function(){var e=Object(a.a)(i.a.mark((function e(){var n,c,a,o,s,l,d,b,p,j,f,g,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Q.filter((function(e){return e.status!==K.a.UNAVAILABLE})).map((function(e){return e.asset})),c=Object(Z.c)(n.reduce((function(e,t){return e.add(u.a.from(t.priceInfo.ETHPrice))}),u.a.from(0)).toString()),k&&y(!1),!A&&N(!0),I(K.b.FETCHING_ROUTE),e.prev=5,!G){e.next=10;break}he({variables:{senderAddress:G&&t?t:"",nftTrades:G?Object(Z.b)(Q):[],tokenTrades:X||void 0},onCompleted:function(e){if(!e.nftRoute||!e.nftRoute.route)return I(K.b.ADDING_TO_BAG),void N(!1);var t=!!X,c=ft(e.nftRoute,t),i=c.route,a=c.routeResponse,o=Object(mt.a)(n,i),s=o.hasPriceAdjustment,l=o.updatedAssets,u=s&&t,d=l.filter((function(e){return e.updatedPriceInfo})).sort(Z.x),b=l.filter((function(e){return e.isUnavailable})),p=l.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),j=p.length>0,f=d.length>0,g=b.length>0,h=j||f||g,m=f||g;T([].concat(Object(r.a)(b.map((function(e){return{asset:e,status:K.a.UNAVAILABLE}}))),Object(r.a)(d.map((function(e){return{asset:e,status:K.a.REVIEWING_PRICE_CHANGE}}))),Object(r.a)(p.map((function(e){return{asset:e,status:K.a.REVIEWED}})))));var x=!1;h?m?I(f?K.b.IN_REVIEW:K.b.CONFIRM_REVIEW):u?I(K.b.CONFIRM_QUOTE):(je(a,t),I(K.b.CONFIRMING_IN_WALLET),x=!0):I(K.b.ADDING_TO_BAG),N(x)}}),e.next=25;break;case 10:return e.next=12,J.fetchQuery(["assetsRoute",c,n,t],(function(){return Object(Le.e)({toSell:[c],toBuy:n,senderAddress:null!==t&&void 0!==t?t:""})}));case 12:a=e.sent,o=Object(mt.a)(n,a.route),s=o.updatedAssets,l=s.filter((function(e){return e.updatedPriceInfo})).sort(Z.x),d=s.filter((function(e){return e.isUnavailable})),b=s.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),p=b.length>0,j=l.length>0,f=d.length>0,g=p||j||f,h=j||f,T([].concat(Object(r.a)(d.map((function(e){return{asset:e,status:K.a.UNAVAILABLE}}))),Object(r.a)(l.map((function(e){return{asset:e,status:K.a.REVIEWING_PRICE_CHANGE}}))),Object(r.a)(b.map((function(e){return{asset:e,status:K.a.REVIEWED}}))))),N(!1),g?h?I(j?K.b.IN_REVIEW:K.b.CONFIRM_REVIEW):(je(a,!1),I(K.b.CONFIRMING_IN_WALLET)):I(K.b.ADDING_TO_BAG);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(5),I(K.b.ADDING_TO_BAG);case 30:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(){return e.apply(this,arguments)}}();Object(F.useEffect)((function(){ze.f.subscribe((function(e){return q.current=e.state}))}),[]),Object(F.useEffect)((function(){A&&!te&&ne(!0)}),[A,te]),Object(F.useEffect)((function(){q.current===K.g.Confirming&&I(K.b.PROCESSING_TRANSACTION),q.current!==K.g.Denied&&q.current!==K.g.Invalid||(q.current===K.g.Invalid?I(K.b.WARNING):I(K.b.CONFIRM_REVIEW),W(K.g.New),N(!1),ne(!1))}),[q.current]),Object(F.useEffect)((function(){P(pe)}),[pe,P]);var xe=Q.length>0,Oe=Q.length>0,ve=h.length>0,we=Boolean(!z&&!Oe&&w===K.b.ADDING_TO_BAG||z&&!ve),Ie=Object(F.useMemo)((function(){return Object(s.a)({},Object(Z.h)(Q.map((function(e){return e.asset}))))}),[Q]);return S&&D?Object(se.jsxs)(Ge.a,{children:[Object(se.jsx)(nn,{"data-testid":"nft-bag",raiseZIndex:B||te,isProfilePage:z,children:z&&x===K.e.LISTING?Object(se.jsx)(pt,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Jt,{numberOfAssets:z?h.length:Q.length,closeBag:fe,resetFlow:z?l:E,isProfilePage:z}),we&&Object(se.jsx)($t,{}),Object(se.jsx)(cn,{top:!0,show:ie&&de>0}),Object(se.jsx)(Ce.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==ie&&ae(t)}},className:"_1jcz50r1 rgw6ez2dk rgw6ez2j2 rgw6ez1y8 rgw6ez7ny",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;be(t?(t+n)/r*100:0)},gap:"12",children:z?Object(se.jsx)(Zt,{}):Object(se.jsx)(qt,{})}),xe&&!z&&Object(se.jsx)(Te,{totalEthPrice:pe,fetchAssets:me,eventProperties:Ie}),ve&&z&&Object(se.jsx)(Se.a,{marginTop:"32",marginX:"28",marginBottom:"16",paddingY:"10",className:"".concat(Re.d," ").concat(Re.g),backgroundColor:"accentAction",color:"white",textAlign:"center",onClick:function(){C(),O(K.e.LISTING),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_PROFILE_PAGE_START_SELL,{list_quantity:h.length,collection_addresses:h.map((function(e){return e.asset_contract.address})),token_ids:h.map((function(e){return e.tokenId}))})},children:"Continue"})]})}),L?Object(se.jsx)(rn,{onClick:C}):te&&Object(se.jsx)(Me.a,{onClick:function(){return A?void 0:ne(!1)}})]}):null}}}]);
//# sourceMappingURL=5.cf6a7582.chunk.js.map