(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[1],{1887:function(e,t,n){},1894:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));n(367),n(1887);var r="_2kdvfw1",c="_2kdvfw3 _2kdvfw1 rgw6ez7aj rgw6ez78v rgw6ez4fj"},1898:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return L})),n.d(t,"d",(function(){return q})),n.d(t,"e",(function(){return ne})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return V})),n.d(t,"i",(function(){return te})),n.d(t,"j",(function(){return ie})),n.d(t,"k",(function(){return Q})),n.d(t,"l",(function(){return $})),n.d(t,"m",(function(){return J})),n.d(t,"n",(function(){return X})),n.d(t,"o",(function(){return re})),n.d(t,"p",(function(){return Z})),n.d(t,"q",(function(){return ee})),n.d(t,"r",(function(){return K})),n.d(t,"s",(function(){return ce})),n.d(t,"u",(function(){return C})),n.d(t,"v",(function(){return S})),n.d(t,"t",(function(){return H}));var r,c=n(8),i=n(2),a=n(67),o=n(86),s=n(801),l=n(122),u=n(82),d=n(80),b=n(130),f=n(154),j=n(331),p=n(90),g=n(192),h=n(56),m=n(330),O=n(806),x=n(1),v=n(1089),w=n(10),I=(n(367),n(2048),"xstjgw2"),y="xstjgw3",k="xstjgwd rgw6ez47p rgw6ez13d rgw6ez1a7 rgw6ez3p7",A=n(0),N=Object(x.createContext)(void 0),E="12",T=function(){var e=Object(x.useContext)(N);if(!e)throw new Error("Must use context inside of provider");return e};!function(e){e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Audio=2]="Audio"}(r||(r={}));var S=function(e){return Object(x.useMemo)((function(){return e.notForSale||a.a.from(e.priceInfo?e.priceInfo.ETHPrice:0).lt(0)}),[e])},C=function(e){return Object(x.useMemo)((function(){var t=r.Image;return e.animationUrl&&(Object(m.A)(e.animationUrl)?t=r.Audio:Object(m.D)(e.animationUrl)&&(t=r.Video)),t}),[e])},P=function(e){return"address"in e?"/#/nfts/asset/".concat(e.address,"/").concat(e.tokenId,"?origin=collection"):"asset_contract"in e?"/#/nfts/asset/".concat(e.asset_contract.address,"/").concat(e.tokenId,"?origin=profile"):"/#/nfts/profile"},R=i.default.a.withConfig({componentId:"sc-1xq4e4s-0"})(["display:flex;align-items:center;flex-shrink:0;text-decoration:none;font-size:14px;font-weight:500;border:1px solid;color:",";border-color:",";padding:2px 6px;border-radius:6px;",";"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentActionSoft}),s.a),z=Object(i.default)(v.a).withConfig({componentId:"sc-1xq4e4s-1"})(["width:16px;height:16px;color:",";"],(function(e){return e.theme.accentFailure})),_=(i.default.div.withConfig({componentId:"sc-1xq4e4s-2"})(["position:absolute;display:flex;width:100%;bottom:12px;z-index:2;justify-content:center;"]),i.default.div.withConfig({componentId:"sc-1xq4e4s-3"})(["display:flex;border:1px solid ",";border-radius:","px;overflow:hidden;"],(function(e){return e.theme.backgroundOutline}),E),Object(i.default)(w.w.HeadlineSmall).withConfig({componentId:"sc-1xq4e4s-4"})(["display:flex;padding:6px 8px;width:60px;background:",";justify-content:center;cursor:default;"],(function(e){return e.theme.backgroundBackdrop})),i.default.div.withConfig({componentId:"sc-1xq4e4s-5"})(["display:flex;justify-content:center;align-items:center;width:40px;background:",";color:",";:hover{color:",";}"],(function(e){return e.theme.backgroundInteractive}),(function(e){return e.theme.textPrimary}),(function(e){return e.theme.accentAction})),i.default.div.withConfig({componentId:"sc-1xq4e4s-6"})(["position:absolute;top:12px;left:12px;z-index:2;"])),D=i.default.div.withConfig({componentId:"sc-1xq4e4s-7"})(["position:relative;pointer-events:auto;&:hover{opacity:",";}cursor:",";"],(function(e){var t=e.isDisabled,n=e.theme;return t?n.opacity.disabled:n.opacity.enabled}),(function(e){return e.isDisabled?"default":"pointer"})),L=function(e){var t=e.asset,n=e.selected,r=e.addAssetToBag,i=e.removeAssetFromBag,a=e.children,o=e.isDisabled,s=e.onClick,l=Object(x.useReducer)((function(e){return!e}),!1),u=Object(c.a)(l,2),b=u[0],f=u[1],j=Object(x.useState)(P(t)),p=Object(c.a)(j,2),g=p[0],h=p[1],m=Object(x.useMemo)((function(){return{asset:t,selected:n,hovered:b,toggleHovered:f,href:g,setHref:h,addAssetToBag:r,removeAssetFromBag:i}}),[t,b,n,g,r,i]),O=Object(x.useRef)(null);Object(x.useLayoutEffect)((function(){var e;b&&!1===(null===(e=O.current)||void 0===e?void 0:e.matches(":hover"))&&f()}),[b]);var v=Object(x.useCallback)((function(){return f()}),[]);return Object(A.jsx)(N.Provider,{value:m,children:Object(A.jsx)(d.b,{position:"relative",ref:O,borderRadius:E,className:n?"xstjgw5 xstjgw1 rgw6ez7l3 rgw6ez27d rgw6ez7ar rgw6ez4od":"xstjgw1 rgw6ez7l3 rgw6ez27d rgw6ez7ar",draggable:!1,onMouseEnter:v,onMouseLeave:v,transition:"250",onClick:o?function(){return null}:null!==s&&void 0!==s?s:function(e){t.notForSale||(e.preventDefault(),n?i():r())},children:a})})},F=function(e){var t=e.children,n=e.isDisabled,r=void 0!==n&&n;return Object(A.jsx)(D,{isDisabled:r,children:t})},G=function(e,t,n,r,c){if(e!==h.n.square&&n){var i=t.currentTarget.clientHeight,a=t.currentTarget.clientWidth/i;(!r||r!==i)&&a<1&&e!==h.n.square&&c&&c(i),e===h.n.unset?n(a>=1?h.n.square:a):e!==a&&(n(h.n.square),c&&c(void 0))}};function B(e,t){return e===h.n.square||e===h.n.unset?void 0:t}var U=function(e){var t=e.uniformAspectRatio,n=void 0===t?h.n.square:t,r=e.setUniformAspectRatio,i=e.renderedHeight,a=e.setRenderedHeight,s=T(),l=s.hovered,u=s.asset,b=Object(x.useState)(!u.smallImageUrl&&!u.imageUrl),f=Object(c.a)(b,2),j=f[0],p=f[1],m=Object(x.useState)(!1),O=Object(c.a)(m,2),v=O[0],w=O[1],k=Object(g.i)();return j?Object(A.jsx)(ae,{height:B(n,i)}):Object(A.jsx)(d.b,{display:"flex",overflow:"hidden",borderTopLeftRadius:E,borderTopRightRadius:E,children:Object(A.jsx)(d.b,{as:"img",width:"full",style:{aspectRatio:"".concat(n!==h.n.square&&r?"auto":"1"),transition:"transform 0.25s ease 0s"},src:u.imageUrl||u.smallImageUrl,objectFit:"contain",draggable:!1,onError:function(){return p(!0)},onLoad:function(e){G(n,e,r,i,a),w(!0)},className:Object(o.default)(l&&!k&&y,!v&&I)})})};function M(e,t){return e!==h.n.square&&t?"auto":"1"}var H=function(e){var t,n,r=e.uniformAspectRatio,i=void 0===r?h.n.square:r,a=e.setUniformAspectRatio,s=e.renderedHeight,l=e.setRenderedHeight,u=e.shouldPlay,b=e.setCurrentTokenPlayingMedia,j=Object(x.useRef)(null),p=T(),m=p.hovered,O=p.asset,v=Object(x.useState)(!O.smallImageUrl&&!O.imageUrl),w=Object(c.a)(v,2),N=w[0],E=w[1],S=Object(x.useState)(!1),C=Object(c.a)(S,2),P=C[0],R=C[1],z=Object(g.i)();u?null===(t=j.current)||void 0===t||t.play():null===(n=j.current)||void 0===n||n.pause();return N?Object(A.jsx)(ae,{height:B(i,s)}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.b,{display:"flex",overflow:"hidden",children:Object(A.jsx)(d.b,{as:"img",alt:O.name||O.tokenId,width:"full",style:{aspectRatio:M(i,a),transition:"transform 0.25s ease 0s",willChange:"transform"},src:O.imageUrl||O.smallImageUrl,objectFit:"contain",draggable:!1,onError:function(){return E(!0)},onLoad:function(e){G(i,e,a,s,l),R(!0)},visibility:u?"hidden":"visible",className:Object(o.default)(m&&!z&&y,!P&&I)})}),u?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.b,{className:k,children:Object(A.jsx)(f.Q,{width:"100%",height:"100%",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(void 0)},className:"playback-icon"})}),Object(A.jsx)(d.b,{position:"absolute",left:"0",top:"0",display:"flex",children:Object(A.jsx)(d.b,{as:"video",ref:j,width:"full",style:{aspectRatio:"".concat(i!==h.n.square&&a?"auto":"1")},onEnded:function(e){e.preventDefault(),b(void 0)},loop:!0,playsInline:!0,children:Object(A.jsx)("source",{src:O.animationUrl})})})]}):Object(A.jsx)(d.b,{className:k,children:(!z&&m||z)&&Object(A.jsx)(f.R,{width:"100%",height:"100%",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(O.tokenId)},className:"playback-icon"})})]})},W=function(e){var t,n,r=e.uniformAspectRatio,i=void 0===r?h.n.square:r,a=e.setUniformAspectRatio,s=e.renderedHeight,l=e.setRenderedHeight,u=e.shouldPlay,b=e.setCurrentTokenPlayingMedia,j=Object(x.useRef)(null),p=T(),m=p.hovered,O=p.asset,v=Object(x.useState)(!O.smallImageUrl&&!O.imageUrl),w=Object(c.a)(v,2),N=w[0],E=w[1],S=Object(x.useState)(!1),C=Object(c.a)(S,2),P=C[0],R=C[1],z=Object(g.i)();u?null===(t=j.current)||void 0===t||t.play():null===(n=j.current)||void 0===n||n.pause();return N?Object(A.jsx)(ae,{height:B(i,s)}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.b,{display:"flex",overflow:"hidden",children:Object(A.jsx)(d.b,{as:"img",alt:O.name||O.tokenId,width:"full",style:{aspectRatio:M(i,a),transition:"transform 0.4s ease 0s"},src:O.imageUrl||O.smallImageUrl,objectFit:"contain",draggable:!1,onError:function(){return E(!0)},onLoad:function(e){G(i,e,a,s,l),R(!0)},className:Object(o.default)(m&&!z&&y,!P&&I)})}),u?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(d.b,{className:k,children:Object(A.jsx)(f.Q,{width:"100%",height:"100%",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(void 0)},className:"playback-icon"})}),Object(A.jsx)(d.b,{position:"absolute",left:"0",top:"0",display:"flex",children:Object(A.jsx)(d.b,{as:"audio",ref:j,width:"full",height:"full",onEnded:function(e){e.preventDefault(),b(void 0)},children:Object(A.jsx)("source",{src:O.animationUrl})})})]}):Object(A.jsx)(d.b,{className:k,children:(!z&&m||z)&&Object(A.jsx)(f.R,{width:"100%",height:"100%",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(O.tokenId)},className:"playback-icon"})})]})},q=function(e){var t=e.children;return Object(A.jsx)(b.c,{position:"relative",paddingX:"12",paddingTop:"12",justifyContent:"space-between",flexDirection:"column",transition:"250",children:t})},V=function(e){var t=e.children;return Object(A.jsx)(d.b,{overflow:"hidden",width:"full",children:t})},Y=Object(i.default)(b.c).withConfig({componentId:"sc-1xq4e4s-8"})(["padding:2px;white-space:pre;text-overflow:ellipsis;display:block;overflow:hidden;flex:1;"]),X=function(e){var t=e.asset,n=e.hideDetails,r=!t.notForSale&&t.asset_contract.tokenType!==u.d.Erc1155;return Object(A.jsxs)(d.b,{overflow:"hidden",width:"full",flexWrap:"nowrap",children:[Object(A.jsxs)(J,{children:[Object(A.jsxs)(Q,{children:[Object(A.jsx)(Y,{className:j.c,style:{color:p.c.colors.textSecondary},children:!!t.asset_contract.name&&Object(A.jsx)("span",{children:t.asset_contract.name})}),t.collectionIsVerified&&Object(A.jsx)(f.hb,{height:"18px",width:"18px"})]}),!n&&Object(A.jsx)(ne,{})]}),Object(A.jsxs)(b.c,{justifyItems:"flex-start",children:[Object(A.jsx)(Y,{className:j.b,style:{color:p.c.colors.textPrimary},children:function(){if(t.name||t.tokenId)return t.name?t.name:"#".concat(t.tokenId)}()}),t.susFlag&&Object(A.jsx)(ce,{})]}),Object(A.jsx)(Y,{className:j.d,style:{color:p.c.colors.textPrimary},children:r&&t.floor_sell_order_price?"".concat(Object(O.a)(t.floor_sell_order_price)," ETH"):" "})]})},J=function(e){var t=e.children;return Object(A.jsx)(b.c,{gap:"8",justifyContent:"space-between",children:t})},Q=function(e){var t=e.children;return Object(A.jsx)(b.c,{justifyItems:"center",overflow:"hidden",whiteSpace:"nowrap",children:t})},$=function(e){var t=e.children;return Object(A.jsx)(d.b,{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",className:j.b,children:t})},K=function(e){var t=e.children;return Object(A.jsx)(b.c,{height:"20",justifyContent:"space-between",marginTop:"6",children:t})},Z=function(e){var t=e.children;return Object(A.jsx)(b.c,{overflow:"hidden",whiteSpace:"nowrap",children:t})},ee=function(e){var t=e.children;return Object(A.jsx)(d.b,{color:"textPrimary",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",style:{lineHeight:"20px"},className:j.k,children:t})},te=function(e){var t=e.marketplace;return Object(A.jsx)(d.b,{as:"img",alt:t,src:"/nft/svgs/marketplaces/".concat(t,".svg"),className:"xstjgw9 rgw6ez447 rgw6ez121 rgw6ez18v rgw6ez7a7 rgw6ez3wv rgw6ezlj"})},ne=function(){var e=T().asset;return Object(A.jsx)(R,{href:P(e),onClick:function(e){e.stopPropagation()},children:Object(A.jsx)(d.b,{"data-testid":"nft-details-link",children:"Details"})})},re=function(e){var t,n=e.rarity,r=e.provider,c=e.rarityVerified,i=e.rarityLogo,a=T().asset;return Object(A.jsx)(A.Fragment,{children:r.rank&&Object(A.jsx)(_,{children:Object(A.jsx)(l.a,{text:Object(A.jsxs)(b.c,{children:[Object(A.jsx)(d.b,{display:"flex",marginRight:"4",children:Object(A.jsx)("img",{src:i,alt:"cardLogo",width:16})}),Object(A.jsx)(d.b,{width:"full",className:j.c,children:c?"Verified by ".concat("collectionName"in a&&a.collectionName||"asset_contract"in a&&(null===(t=a.asset_contract)||void 0===t?void 0:t.name)):"Ranking by ".concat("Genie"===n.primaryProvider?m.k:n.primaryProvider)})]}),placement:"top",children:Object(A.jsxs)(d.b,{className:"xstjgwb rgw6ez2c7 rgw6ez2hp rgw6ez43v rgw6ez7a7 rgw6ez18v rgw6ez4dj rgw6ez4nv rgw6ezaj rgw6ezd1",children:[Object(A.jsx)(d.b,{paddingTop:"2",paddingBottom:"2",display:"flex",children:Object(m.G)(r.rank)}),Object(A.jsx)(d.b,{display:"flex",height:"16",children:c?Object(A.jsx)(f.U,{}):null})]})})})})},ce=function(){return Object(A.jsx)(l.a,{text:Object(A.jsx)(d.b,{className:j.c,children:"Blocked on OpenSea"}),placement:"top",children:Object(A.jsx)(d.b,{display:"flex",flexShrink:"0",marginLeft:"4",children:Object(A.jsx)(z,{})})})},ie=function(){return Object(A.jsx)(l.a,{text:Object(A.jsx)(d.b,{className:j.c,children:"This NFT is part of a liquidity pool. Buying this will increase the price of the remaining pooled NFTs."}),placement:"top",children:Object(A.jsx)(d.b,{display:"flex",flexShrink:"0",marginLeft:"4",color:"textSecondary",children:Object(A.jsx)(f.T,{width:"20",height:"20"})})})},ae=function(e){var t=e.height;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(d.b,{position:"relative",width:"full",style:{height:t?"".concat(t,"px"):"auto",paddingTop:"100%",background:"linear-gradient(90deg, ".concat(p.c.colors.backgroundSurface," 0%, ").concat(p.c.colors.backgroundInteractive," 95.83%)")},children:Object(A.jsxs)(d.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",className:j.b,children:["Content not",Object(A.jsx)("br",{}),"available yet"]})})})}},1899:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"h",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return I}));var r=n(3),c=n.n(r),i=n(43),a=n(16),o=n(21),s=n(572),l=n(338),u=n(268),d=n(56),b=n(809),f=function(e){var t=e.listing,n=e.newStatus,r=e.rows,c=e.setRows,i=e.callback,a=Object(o.a)(r),s=r.findIndex((function(e){return e===t}));t.status=n,i&&(t.callback=i),a[s]=t,c(a)};function j(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(c.a.mark((function e(t,n,r,i){var a,o,f,p,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return j(t,n,r,i)},r(t,d.f.SIGNING,a),o=t.marketplace,f=t.collectionAddress,p=s.b[s.a.MAINNET],g="OpenSea"===o.name?u.b:"Rarible"===o.name?l.a:"X2Y2"===o.name?l.d:p.TRANSFER_MANAGER_ERC721,e.t0=!!f,!e.t0){e.next=9;break}return e.next=9,Object(b.c)(g,f,n,(function(e){return r(t,e,a)}));case 9:t.status!==d.f.REJECTED&&t.status!==d.f.FAILED||!i||i();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r,c,i,a){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(c.a.mark((function e(t,n,r,i,a,o,s){var l,u,f,j,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=i(),u=function(){return g(t,n,r,i,a,o,s)},o(t,d.f.SIGNING,u),f=t.asset,j=t.marketplace,e.next=6,Object(b.d)(j,f,n,r,l,(function(e){return o(t,e,u)}));case 6:p=e.sent,t.status===d.f.REJECTED&&s?s():p&&"LooksRare"===t.marketplace.name&&a(l+1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,c,i,a=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t})),o=a.marketplace.fee+("LooksRare"===a.marketplace.name?b.a:null!==(r=null===t||void 0===t?void 0:t.basisPoints)&&void 0!==r?r:0)/100;return e+(null!==(c=a.price)&&void 0!==c?c:0)-(null!==(i=a.price)&&void 0!==i?i:0)*(o/100)}return e}),0);return t?Math.round(1e4*t+Number.EPSILON)/1e4:0},O=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var c,i,a={images:[e.smallImageUrl,r.icon],name:e.name||"#".concat(e.tokenId),status:d.f.DEFINED,asset:e,marketplace:r,price:null===(c=e.newListings)||void 0===c||null===(i=c.find((function(e){return e.marketplace.name===r.name})))||void 0===i?void 0:i.price};if(n.push(a),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var o={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:d.f.DEFINED,collectionAddress:e.asset_contract.address,isVerified:e.collectionIsVerified,marketplace:r};t.push(o)}}))})),[t,n]},x=function(e,t){var n=!0,r=!0,c=!0,a=!0,o=!0,s=!1,l=!1,u=!1,b=!1;0===e.length&&(o=a=!1);var f,j=Object(i.a)(e);try{for(j.s();!(f=j.n()).done;){var p=f.value;p.status!==d.f.PENDING&&(a=!1),p.status!==d.f.DEFINED&&(o=!1),p.status===d.f.SIGNING?s=!0:p.status===d.f.FAILED?l=!0:p.status===d.f.REJECTED?u=!0:p.status===d.f.PAUSED&&(b=!0)}}catch(O){j.e(O)}finally{j.f()}0===t.length&&(c=r=n=!1);var g,h=Object(i.a)(t);try{for(h.s();!(g=h.n()).done;){var m=g.value;m.status!==d.f.PENDING&&(n=!1),m.status!==d.f.DEFINED&&(r=!1),m.status!==d.f.APPROVED&&(c=!1),m.status===d.f.SIGNING?s=!0:m.status===d.f.FAILED?l=!0:m.status===d.f.REJECTED?u=!0:m.status===d.f.PAUSED&&(b=!0)}}catch(O){h.e(O)}finally{h.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:c,allCollectionsPending:a,allCollectionsDefined:o,anyActiveSigning:s,anyActiveFailures:l,anyActiveRejections:u,anyPaused:b}},v=function(e){return e!==d.f.PAUSED&&e!==d.f.APPROVED},w=function(e,t,n){e.status!==d.f.PENDING&&e.status!==d.f.DEFINED||f({listing:e,newStatus:d.f.PAUSED,rows:t,setRows:n})},I=function(e,t,n){e.status!==d.f.PAUSED&&e.status!==d.f.FAILED&&e.status!==d.f.REJECTED||f({listing:e,newStatus:d.f.DEFINED,rows:t,setRows:n})}},1924:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));n(367),n(2046);var r="rgw6ez19p rgw6ez12v rgw6ez7nn rgw6ezpv rgw6ezq7",c="_13bxg42",i="rgw6ez7av rgw6ezwj rgw6ez16v rgw6ez7in rgw6ez79b rgw6ez501",a="rgw6ez2cv rgw6ez2d8 rgw6ez2id rgw6ez2iq rgw6ez2np rgw6ez2o8 rgw6ez277 rgw6ez27q rgw6ez45d rgw6ezd1 rgw6ezb1 rgw6ezb8 rgw6eze7 rgw6ezee rgw6ez43v rgw6ez3j rgw6ez46p rgw6ez4v rgw6ez7aj",o="_13bxg48 rgw6ez7ir rgw6ez79b rgw6ez507",s="rgw6ez2t1 rgw6ez7ab rgw6ez501 rgw6ez79b rgw6ez7ir"},1934:function(e,t,n){"use strict";n.r(t),n.d(t,"BAG_WIDTH",(function(){return zt})),n.d(t,"XXXL_BAG_WIDTH",(function(){return _t}));var r=n(21),c=n(3),i=n.n(c),a=n(16),o=n(8),s=n(4),l=n(2),u=n(67),d=n(38),b=n(27),f=n(18),j=n(781),p=n(82),g=n(279),h=n(5),m=n(116),O=n(135),x=n(23),v=n(163),w=n(69),I=n(17),y=n(406),k=n(337),A=n(122),N=n(11),E=n(782),T=n(72),S=n(429),C=n(183),P=n(291),R=n(237),z=n(816),_=n(6),D=n(1017),L=n(1016),F=n(1);var G=n(43),B=n(46);function U(e){return Object(s.a)(Object(s.a)({},{inputAmount:{amount:(n={inputAmount:e.inputAmount,outputAmount:e.outputAmount}).inputAmount.quotient.toString(),token:{address:n.inputAmount.currency.isToken?n.inputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.inputAmount.currency.chainId,decimals:n.inputAmount.currency.decimals,isNative:n.inputAmount.currency.isNative}},outputAmount:{amount:n.outputAmount.quotient.toString(),token:{address:n.outputAmount.currency.isToken?n.outputAmount.currency.address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",chainId:n.outputAmount.currency.chainId,decimals:n.outputAmount.currency.decimals,isNative:n.outputAmount.currency.isNative}}}),{},{pools:(t=e.route.pools,t.map((function(e){return function(e){var t="fee"in e;return{pair:t?void 0:{tokenAmountA:{amount:e.reserve0.quotient.toString(),token:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative}},tokenAmountB:{amount:e.reserve1.quotient.toString(),token:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}},pool:t?{fee:e.fee,liquidity:e.liquidity.toString(),sqrtRatioX96:e.sqrtRatioX96.toString(),tickCurrent:e.tickCurrent.toString(),tokenA:{address:e.token0.address,chainId:e.token0.chainId,decimals:e.token0.decimals,isNative:e.token0.isNative},tokenB:{address:e.token1.address,chainId:e.token1.chainId,decimals:e.token1.decimals,isNative:e.token1.isNative}}:void 0}}(e)})))});var t,n}var M=n(139),H=n.n(M),W=n(140),q=H()()(Object(W.devtools)((function(e){return{inputCurrency:void 0,tokenTradeInput:void 0,setInputCurrency:function(t){return e((function(){return{inputCurrency:t}}))},clearInputCurrency:function(){return e((function(){return{inputCurrency:void 0}}))},setTokenTradeInput:function(t){return e((function(){return{tokenTradeInput:t}}))}}}),{name:"useTokenInput"}));function V(e,t,n){var r=q((function(e){return e.setTokenTradeInput})),c=!!e&&e.routes,i=!!e&&!!e.inputAmount&&e.inputAmount.currency.isToken,a=!!n&&!!t;Object(F.useEffect)((function(){if(c&&i&&a){var o=parseInt(n.multiply(100).toSignificant(2)),s=function(e){var t,n=[],r=[],c=[],i=e.swaps,a=Object(G.a)(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.route.protocol===B.Protocol.MIXED?n.push(U(o)):o.route.protocol===B.Protocol.V2?r.push(U(o)):c.push(U(o))}}catch(s){a.e(s)}finally{a.f()}return{mixedTokenTradeRouteInputs:n.length>0?n:void 0,v2TokenTradeRouteInputs:r.length>0?r:void 0,v3TokenTradeRouteInputs:c.length>0?c:void 0}}(e),l=s.mixedTokenTradeRouteInputs,u=s.v2TokenTradeRouteInputs,d=s.v3TokenTradeRouteInputs,b={mixedRoutes:l,tradeType:p.g.ExactOutput,v2Routes:u,v3Routes:d},f="permitSignature"in t&&t.permitSignature?{details:{amount:t.permitSignature.details.amount.toString(),expiration:t.permitSignature.details.expiration.toString(),nonce:t.permitSignature.details.nonce.toString(),token:t.permitSignature.details.token},sigDeadline:t.permitSignature.sigDeadline.toString(),signature:t.permitSignature.signature,spender:t.permitSignature.spender}:void 0;r({permit:f,routes:b,slippageToleranceBasisPoints:o,tokenAmount:{amount:e.inputAmount.quotient.toString(),token:{address:e.inputAmount.currency.address,chainId:e.inputAmount.currency.chainId,decimals:e.inputAmount.currency.decimals,isNative:e.inputAmount.currency.isNative}}})}else r(void 0)}),[t,n,a,i,c,r,e])}var Y=n(251),X=n(39);var J=n(202);function Q(e){var t=Object(l.useTheme)();return Object(F.useMemo)((function(){var n=e?Object(J.a)(e):void 0,r=n?Object(J.b)(n):void 0,c="error"===r?t.accentCritical:"warning"===r?t.accentWarning:void 0;return n&&r&&c?{priceImpactSeverity:{type:r,color:c},displayPercentage:function(){return function(e){var t,n=e.lessThan(0)?"+":"";if(Number(e.numerator)/Number(e.denominator)*100<.005)return"0.00%";var r=parseFloat(null===(t=e.multiply(-1))||void 0===t?void 0:t.toFixed(2));return"".concat(n).concat(r,"%")}(n)}}:void 0}),[t.accentCritical,t.accentWarning,e])}var $=n(820),K=n(56),Z=n(330),ee=n(1089),te=n(1088),ne=n(60),re=n(177),ce=n(10),ie=n(637),ae=n(803),oe=n.n(ae),se=n(0),le=l.default.div.withConfig({componentId:"sc-rcepl8-0"})(["padding:0px 12px;"]),ue=l.default.div.withConfig({componentId:"sc-rcepl8-1"})(["border-top:1px solid ",";color:",";display:flex;flex-direction:column;margin:0px 16px 8px;padding:12px 0px;border-bottom-left-radius:12px;border-bottom-right-radius:12px;"],(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.textPrimary})),de=Object(l.default)(x.d).withConfig({componentId:"sc-rcepl8-2"})(["padding-top:8px;padding-bottom:",";"],(function(e){return e.usingPayWithAnyToken?"16px":"20px"})),be=Object(l.default)(I.e).withConfig({componentId:"sc-rcepl8-3"})(["justify-content:space-between;align-items:start;gap:8px;"]),fe=Object(l.default)(x.d).withConfig({componentId:"sc-rcepl8-4"})(["text-align:end;overflow-x:hidden;"]),je=Object(l.default)(ee.a).withConfig({componentId:"sc-rcepl8-5"})(["width:14px;margin-right:4px;color:inherit;"]),pe=Object(l.default)(ce.w.BodyPrimary).withConfig({componentId:"sc-rcepl8-6"})(["align-items:center;color:",";display:flex;justify-content:center;margin-bottom:10px !important;text-align:center;"],(function(e){return e.$color})),ge=Object(l.default)(ce.w.Caption).withConfig({componentId:"sc-rcepl8-7"})(["color:",";display:flex;justify-content:center;text-align:center;margin-bottom:10px !important;"],(function(e){return e.$color})),he=Object(l.default)(I.e).withConfig({componentId:"sc-rcepl8-8"})(["gap:8px;cursor:pointer;"]),me=l.default.button.withConfig({componentId:"sc-rcepl8-9"})(["display:flex;background:",";color:",";font-weight:600;line-height:24px;font-size:16px;gap:16px;justify-content:center;border:none;border-radius:12px;padding:12px 0px;cursor:pointer;align-items:center;&:disabled{opacity:0.6;cursor:auto;}"],(function(e){return e.$backgroundColor}),(function(e){return e.$color})),Oe=Object(l.default)(k.a).withConfig({componentId:"sc-rcepl8-10"})(["border-radius:4px;width:4rem;height:20px;align-self:end;"]),xe=Object(l.default)(I.e).withConfig({componentId:"sc-rcepl8-11"})(["align-items:center;gap:8px;width:100%;justify-content:flex-end;"]),ve=Object(l.default)(I.e).withConfig({componentId:"sc-rcepl8-12"})(["align-items:center;gap:8px;"]),we=Object(l.default)(ce.w.BodyPrimary).withConfig({componentId:"sc-rcepl8-13"})(["line-height:20px;font-weight:500;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;scrollbar-width:none;::-webkit-scrollbar{display:none;}"]),Ie=function(e){var t=e.disabled,n=e.children,r=e.onClick,c=e.backgroundColor,i=e.textColor;return Object(se.jsx)(me,{disabled:t,onClick:r,$backgroundColor:c,$color:i,children:n})},ye=function(e){var t=e.color,n=e.children;return n?Object(se.jsxs)(pe,{fontSize:"14px",lineHeight:"20px",$color:t,children:[Object(se.jsx)(je,{}),n]}):null},ke=function(e){var t=e.children,n=e.color;return t?Object(se.jsx)(ge,{lineHeight:"16px",$color:n,children:t}):null},Ae=function(e){var t,n=e.usingPayWithAnyToken,r=e.totalEthPrice,c=e.activeCurrency,i=e.tradeState,a=e.trade;return n?i===re.b.LOADING?Object(se.jsx)(ce.w.BodyPrimary,{color:"textTertiary",lineHeight:"20px",fontWeight:"500",children:Object(se.jsx)(h.b,{id:"Fetching price..."})}):Object(se.jsx)(we,{color:i===re.b.SYNCING?"textTertiary":"textPrimary",children:Object(Z.j)(null===a||void 0===a?void 0:a.inputAmount.toExact())}):Object(se.jsxs)(ce.w.BodyPrimary,{lineHeight:"20px",fontWeight:"500",children:[Object(Z.r)(r.toString()),"\xa0",null!==(t=null===c||void 0===c?void 0:c.symbol)&&void 0!==t?t:"ETH"]})},Ne=function(e){var t=e.usdcValue,n=e.priceImpact,r=e.tradeState,c=e.usingPayWithAnyToken;return t?Object(se.jsxs)(xe,{children:[n&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(A.a,{text:m.a._("The estimated difference between the USD values of input and output amounts."),children:Object(se.jsxs)(ve,{children:[Object(se.jsx)(ee.a,{color:n.priceImpactSeverity.color,size:"16px"}),Object(se.jsxs)(ce.w.BodySmall,{style:{color:n.priceImpactSeverity.color},lineHeight:"20px",children:["(",Object(se.jsx)(h.b,{id:"{0}",values:{0:n.displayPercentage()}}),")"]})]})})}),Object(se.jsx)(ce.w.BodySmall,{color:"textTertiary",lineHeight:"20px",children:"".concat(Object(Z.j)(null===t||void 0===t?void 0:t.toExact(),!0))})]}):!c||r!==re.b.INVALID&&r!==re.b.NO_ROUTE_FOUND?Object(se.jsx)(Oe,{}):null},Ee=[K.d.FETCHING_ROUTE,K.d.CONFIRMING_IN_WALLET,K.d.FETCHING_FINAL_ROUTE,K.d.PROCESSING_TRANSACTION],Te=function(e){var t,n=e.totalEthPrice,r=e.fetchAssets,c=e.eventProperties,u=Object(ne.t)(),j=Object(l.useTheme)(),p=Object(f.useWeb3React)(),g=p.account,m=p.chainId,k=p.connector,A=Boolean(g&&m),G=Object(E.b)(),B=q((function(e){return e.inputCurrency})),U=q((function(e){return e.setInputCurrency})),M=Object(T.b)("ETH"),H=Object(P.e)(null!==g&&void 0!==g?g:void 0,B&&B.isToken?B:void 0),W=Object(z.a)((function(e){return{isLocked:e.isLocked,bagStatus:e.bagStatus,setBagExpanded:e.setBagExpanded,setBagStatus:e.setBagStatus}}),oe.a),J=W.isLocked,ee=W.bagStatus,ae=W.setBagExpanded,je=W.setBagStatus,pe=Object(F.useState)(!1),ge=Object(o.a)(pe,2),me=ge[0],Oe=ge[1],xe=Ee.includes(ee),ve=null!==B&&void 0!==B?B:M,we=!!B&&G&&m===N.e.MAINNET,Te=Object(F.useMemo)((function(){return Object(R.a)(Object(O.formatEther)(n.toString()),null!==M&&void 0!==M?M:void 0)}),[M,n]),Se=function(e,t){var n=Object(L.a)(_.TradeType.EXACT_OUTPUT,t,null!==e&&void 0!==e?e:void 0),r=n.state,c=n.trade,i=Object(D.a)(c),a=Object(F.useMemo)((function(){var e=null===c||void 0===c?void 0:c.maximumAmountIn(i);return(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0}),[i,c]);return Object(F.useMemo)((function(){return{state:r,trade:c,maximumAmountIn:a,allowedSlippage:i}}),[i,a,r,c])}(we?B:void 0,Te),Ce=Se.state,Pe=Se.trade,Re=Se.maximumAmountIn,ze=Se.allowedSlippage,_e=function(e,t,n){var r=Object(f.useWeb3React)().chainId,c=Object(S.b)(n?null!==t&&void 0!==t?t:(null===e||void 0===e?void 0:e.currency.isToken)?e:void 0:void 0,n&&r?Object(Y.UNIVERSAL_ROUTER_ADDRESS)(r):void 0),s=c.state===S.a.REQUIRED&&c.isApprovalLoading,l=Object(F.useState)(!1),u=Object(o.a)(l,2),j=u[0],p=u[1],g=Object(F.useCallback)(Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(X.default)(c.state===S.a.REQUIRED),p(!0),e.prev=2,e.next=5,c.approveAndPermit();case 5:Object(d.sendAnalyticsEvent)(b.InterfaceEventName.APPROVE_TOKEN_TXN_SUBMITTED,{chain_id:r,token_symbol:null===t||void 0===t?void 0:t.currency.symbol,token_address:null===t||void 0===t?void 0:t.currency.address}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[c,r,null===t||void 0===t?void 0:t.currency.address,null===t||void 0===t?void 0:t.currency.symbol]);return Object(F.useMemo)((function(){return{allowance:c,isApprovalLoading:s,isAllowancePending:j,updateAllowance:g}}),[c,j,s,g])}((null===Pe||void 0===Pe?void 0:Pe.inputAmount.currency.isToken)?null===Pe||void 0===Pe?void 0:Pe.inputAmount:void 0,Re,G),De=_e.allowance,Le=_e.isAllowancePending,Fe=_e.isApprovalLoading,Ge=_e.updateAllowance;V(Pe,De,ze);var Be=Q(Pe),Ue=Object(C.c)(null===Pe||void 0===Pe?void 0:Pe.inputAmount),Me=Object(C.c)(Te),He=we?Ue:Me,We=Object($.a)().balance,qe=Object(F.useMemo)((function(){if(A&&m===N.e.MAINNET){if(B){var e=null===Pe||void 0===Pe?void 0:Pe.inputAmount;if(!H||!e)return;return!H.lessThan(e)}return Object(O.parseEther)(We).gte(n)}}),[A,m,B,We,n,null===Pe||void 0===Pe?void 0:Pe.inputAmount,H]);Object(F.useEffect)((function(){je(K.d.ADDING_TO_BAG)}),[B,je]);var Ve=Object(F.useMemo)((function(){var e=r,t=Object(se.jsx)(h.b,{id:"Something went wrong"}),n=!0,c=void 0,i=j.accentWarning,a=void 0,o=j.textSecondary,s=j.accentAction,l=j.accentTextLightPrimary;return A&&m!==N.e.MAINNET?(e=function(){return Object(ie.a)(k,N.e.MAINNET)},t=Object(se.jsx)(h.b,{id:"Switch networks"}),n=!1,c=Object(se.jsx)(h.b,{id:"Wrong network"})):!1===qe?(t=Object(se.jsx)(h.b,{id:"Pay"}),n=!0,c=Object(se.jsx)(h.b,{id:"Insufficient funds"})):ee===K.d.WARNING?c=Object(se.jsx)(h.b,{id:"Something went wrong. Please try again."}):A?ee===K.d.FETCHING_FINAL_ROUTE||ee===K.d.CONFIRMING_IN_WALLET?(n=!0,t=Object(se.jsx)(h.b,{id:"Proceed in wallet"})):ee===K.d.PROCESSING_TRANSACTION?(n=!0,t=Object(se.jsx)(h.b,{id:"Transaction pending"})):we&&Ce!==re.b.VALID?(n=!0,t=Object(se.jsx)(h.b,{id:"Fetching Route"}),Ce===re.b.INVALID&&(t=Object(se.jsx)(h.b,{id:"Pay"})),Ce===re.b.NO_ROUTE_FOUND&&(t=Object(se.jsx)(h.b,{id:"Insufficient liquidity"}),s=j.backgroundInteractive,l=j.textPrimary,a=Object(se.jsx)(h.b,{id:"Insufficient pool liquidity to complete transaction"}))):De.state===S.a.REQUIRED||De.state===S.a.LOADING?(e=function(){return Ge()},n=Le||Fe||De.state===S.a.LOADING,De.state===S.a.LOADING?t=Object(se.jsx)(h.b,{id:"Loading Allowance"}):Le?t=Object(se.jsx)(h.b,{id:"Approve in your wallet"}):Fe?t=Object(se.jsx)(h.b,{id:"Approval pending"}):(a=Object(se.jsx)(h.b,{id:"An approval is needed to use this token."}),t=Object(se.jsx)(h.b,{id:"Approve"}))):ee===K.d.CONFIRM_QUOTE?(n=!1,i=j.accentAction,c=Object(se.jsx)(h.b,{id:"Price updated"}),t=Object(se.jsx)(h.b,{id:"Pay"})):Be&&"error"===Be.priceImpactSeverity.type?(n=!1,s=Be.priceImpactSeverity.color,a=Object(se.jsx)(h.b,{id:"Price impact warning"}),o=Be.priceImpactSeverity.color,t=Object(se.jsx)(h.b,{id:"Pay Anyway"})):!0===qe&&(n=!1,t=Object(se.jsx)(h.b,{id:"Pay"}),a=we?Object(se.jsx)(h.b,{id:"Refunds for unavailable items will be given in ETH"}):void 0):(e=function(){u(),ae({bagExpanded:!1})},n=!1,t=Object(se.jsx)(h.b,{id:"Connect wallet"})),{buttonText:t,buttonTextColor:l,disabled:n,warningText:c,warningTextColor:i,helperText:a,helperTextColor:o,handleClick:e,buttonColor:s}}),[r,j.accentWarning,j.textSecondary,j.accentAction,j.accentTextLightPrimary,j.backgroundInteractive,j.textPrimary,A,m,qe,ee,we,Ce,De.state,Be,k,u,ae,Le,Fe,Ge]),Ye=Ve.buttonText,Xe=Ve.buttonTextColor,Je=Ve.disabled,Qe=Ve.warningText,$e=Ve.warningTextColor,Ke=Ve.helperText,Ze=Ve.helperTextColor,et=Ve.handleClick,tt=Ve.buttonColor,nt=Object(s.a)({usd_value:null===He||void 0===He?void 0:He.toExact(),using_erc20:!!B},c);return console.log(ee),Object(se.jsxs)(le,{children:[Object(se.jsxs)(ue,{children:[G&&Object(se.jsxs)(de,{gap:"xs",usingPayWithAnyToken:G,children:[Object(se.jsxs)(be,{children:[Object(se.jsxs)(x.d,{gap:"xs",children:[Object(se.jsx)(ce.w.SubHeaderSmall,{children:Object(se.jsx)(h.b,{id:"Pay with"})}),Object(se.jsxs)(he,{onClick:function(){J||(Oe(!0),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_TOKEN_SELECTOR_CLICKED))},children:[Object(se.jsx)(w.a,{currency:ve,size:"24px"}),Object(se.jsx)(ce.w.HeadlineSmall,{fontWeight:500,lineHeight:"24px",children:null===ve||void 0===ve?void 0:ve.symbol}),Object(se.jsx)(te.a,{size:20,color:j.textSecondary})]})]}),Object(se.jsxs)(fe,{gap:"xs",children:[Object(se.jsx)(ce.w.SubHeaderSmall,{marginBottom:"4px",children:Object(se.jsx)(h.b,{id:"Total"})}),Object(se.jsx)(Ae,{usingPayWithAnyToken:we,totalEthPrice:n,activeCurrency:ve,tradeState:Ce,trade:Pe})]})]}),Object(se.jsx)(Ne,{usdcValue:He,priceImpact:Be,tradeState:Ce,usingPayWithAnyToken:we})]}),!G&&Object(se.jsxs)(de,{gap:"xs",children:[Object(se.jsxs)(I.e,{justify:"space-between",children:[Object(se.jsx)("div",{children:Object(se.jsx)(ce.w.HeadlineSmall,{children:"Total"})}),Object(se.jsx)("div",{children:Object(se.jsxs)(ce.w.HeadlineSmall,{children:[Object(Z.r)(n.toString()),"\xa0",null!==(t=null===ve||void 0===ve?void 0:ve.symbol)&&void 0!==t?t:"ETH"]})})]}),Object(se.jsx)(Ne,{usdcValue:He,priceImpact:Be,tradeState:Ce,usingPayWithAnyToken:we})]}),Object(se.jsxs)(d.TraceEvent,{events:[b.BrowserEvent.onClick],name:b.NFTEventName.NFT_BUY_BAG_PAY,element:b.InterfaceElementName.NFT_BUY_BAG_PAY_BUTTON,properties:Object(s.a)({},nt),shouldLogImpression:A&&!Je,children:[Object(se.jsx)(ye,{color:$e,children:Qe}),Object(se.jsx)(ke,{color:Ze,children:Ke}),Object(se.jsxs)(Ie,{onClick:et,disabled:Je||xe,backgroundColor:tt,textColor:Xe,children:[xe&&Object(se.jsx)(v.a,{size:"20px",stroke:"white"}),Ye]})]})]}),Object(se.jsx)(y.a,{isOpen:me,onDismiss:function(){return Oe(!1)},onCurrencySelect:function(e){U(e.isNative?void 0:e),e.isToken&&Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_TOKEN_SELECTED,{token_address:e.address,token_symbol:e.symbol})},selectedCurrency:null!==ve&&void 0!==ve?ve:void 0,onlyShowCurrenciesWithBalance:!0})]})},Se=n(80),Ce=n(130),Pe=n(154),Re=n(331),ze=n(90),_e=n(192),De=n(338),Le=n(805),Fe=n(294),Ge=n(1956),Be=n(1924),Ue=n(86),Me=n(434),He=function(e){var t=e.sectionTitle,n=e.caption,r=void 0===n?void 0:n,c=e.title,s=void 0===c?void 0:c,l=e.rows,u=e.index,d=e.openIndex,b=e.isSuccessScreen,f=void 0!==b&&b,j=Object(F.useState)(!1),p=Object(o.a)(j,2),g=p[0],h=p[1],m=l.some((function(e){return e.status!==K.f.APPROVED})),O=Object(_e.m)((function(e){return e.sellAssets})),x=Object(_e.m)((function(e){return e.removeAssetMarketplace})),v=function(e){if(1===u){var t,n=Object(G.a)(O);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.asset_contract.address===e.collectionAddress&&x(r,e.marketplace)}}catch(c){n.e(c)}finally{n.f()}}else x(e.asset,e.marketplace)};function w(e){var t,n,r=e,c=r.asset.newListings;return null!==(t=null===c||void 0===c||null===(n=c.find((function(e){return e.marketplace.name===r.marketplace.name})))||void 0===n?void 0:n.price)&&void 0!==t?t:0}Object(F.useEffect)((function(){h(u===d)}),[u,d]);var I=!m&&l.length>0&&!f;return Object(se.jsxs)(Ce.c,{flexWrap:"wrap",className:Re.k,marginTop:"10",marginBottom:"10",onClick:function(){return l.length>0&&h(!g)},color:I?"accentSuccess":"textPrimary",children:[I&&Object(se.jsx)(Pe.e,{style:{marginRight:"8px"}}),t,!f&&Object(se.jsx)(Pe.s,{className:Object(Ue.default)("".concat(g?"":Be.c," ").concat(Be.b))}),(g||f)&&Object(se.jsxs)(Ce.b,{gap:"12",width:"full",paddingTop:f?"28":"auto",className:Object(Ue.default)(!f&&Be.e),children:[r&&Object(se.jsx)(Se.b,{color:"textPrimary",fontWeight:"normal",className:r,children:r}),s&&Object(se.jsx)(Se.b,{color:"textSecondary",className:Re.a,children:s}),Object(se.jsx)(Ce.b,{gap:"8",children:l.map((function(e,t){var n,r;return Object(se.jsxs)(Ce.b,{gap:"8",children:[Object(se.jsxs)(Ce.c,{children:[null===(n=e.images)||void 0===n?void 0:n.map((function(t,n){return Object(se.jsx)(Se.b,{as:"img",height:"20",width:"20",borderRadius:0===n&&e.collectionAddress?"round":"4",style:{zIndex:2-n},className:Be.d,src:t,alt:e.name},n)})),Object(se.jsx)(Se.b,{marginLeft:"8",marginRight:"auto",fontWeight:"normal",color:"textPrimary",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:{sm:"max",md:e.status===K.f.REJECTED||e.status===K.f.FAILED?"120":"full"},className:Re.c,children:e.name}),f?w(e)&&"".concat(Object(Me.c)(Object(Me.g)(null!==(r=w(e))&&void 0!==r?r:0).toString())," ETH"):e.status===K.f.APPROVED?Object(se.jsx)(Pe.e,{height:"20",width:"20"}):e.status===K.f.FAILED||e.status===K.f.REJECTED?Object(se.jsxs)(Ce.c,{gap:"4",children:[Object(se.jsx)(Se.b,{fontWeight:"normal",fontSize:"14",color:"textSecondary",children:e.status}),Object(se.jsx)(Pe.C,{})]}):e.status===K.f.SIGNING&&Object(se.jsx)(Pe.M,{height:"20",width:"20",stroke:"#4673FA"})]}),(e.status===K.f.FAILED||e.status===K.f.REJECTED)&&Object(se.jsxs)(Ce.c,{gap:"8",justifyContent:"center",children:[Object(se.jsx)(Se.b,{width:"120",as:"button",className:Re.e,borderRadius:"12",border:"none",color:"red400",height:"32",cursor:"pointer",style:{backgroundColor:"#FA2B391A"},onClick:function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),v(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}),Object(se.jsx)(Se.b,{width:"120",as:"button",className:Re.e,borderRadius:"12",border:"none",color:"accentAction",height:"32",cursor:"pointer",style:{backgroundColor:"#4C82FB29"},onClick:function(){var t=Object(a.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),!e.callback){t.next=4;break}return t.next=4,e.callback();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Try again"})]})]},t)}))})]})]})},We=n(1899),qe=function(){var e=Object(f.useWeb3React)().provider,t=Object(_e.m)((function(e){return e.sellAssets})),n=Object(_e.k)((function(e){return{listingStatus:e.listingStatus,setListingStatus:e.setListingStatus,setListings:e.setListings,setCollectionsRequiringApproval:e.setCollectionsRequiringApproval,setListingStatusAndCallback:e.setListingStatusAndCallback,setCollectionStatusAndCallback:e.setCollectionStatusAndCallback,looksRareNonce:e.looksRareNonce,setLooksRareNonce:e.setLooksRareNonce,getLooksRareNonce:e.getLooksRareNonce,collectionsRequiringApproval:e.collectionsRequiringApproval,listings:e.listings}}),oe.a),r=n.listingStatus,c=n.setListingStatus,l=n.setListings,u=n.setCollectionsRequiringApproval,j=n.setListingStatusAndCallback,p=n.setCollectionStatusAndCallback,g=n.looksRareNonce,h=n.setLooksRareNonce,m=n.getLooksRareNonce,O=n.collectionsRequiringApproval,x=n.listings,v=null===e||void 0===e?void 0:e.getSigner(),w=Object(F.useState)(0),I=Object(o.a)(w,2),y=I[0],k=I[1],A=Object(F.useState)(!1),N=Object(o.a)(A,2),E=N[0],T=N[1],S=Object(_e.e)((function(e){return e.toggleBag})),C=Object(F.useRef)(g),P=Object(_e.i)(),R=Object(d.useTrace)({modal:b.InterfaceModalName.NFT_LISTING});Object(F.useEffect)((function(){_e.k.subscribe((function(e){return C.current=e.looksRareNonce}))}),[]);var z=Object(F.useMemo)((function(){return Object(We.d)(t)}),[t]),_=Object(F.useState)(0),D=Object(o.a)(_,2),L=D[0],B=D[1];Object(F.useEffect)((function(){Object(Le.a)().then((function(e){B(e||0)}))}),[]);var U=Object(s.a)({collection_addresses:t.map((function(e){return e.asset_contract.address})),token_ids:t.map((function(e){return e.tokenId})),marketplaces:Array.from(new Set(x.map((function(e){return e.marketplace.name})))),list_quantity:x.length,usd_value:L*z},R);Object(F.useEffect)((function(){(null===O||void 0===O?void 0:O.length)&&T(O.every((function(e){return e.status===K.f.APPROVED}))),!E||r!==K.f.PENDING&&r!==K.f.CONTINUE&&r!==K.f.SIGNING||(Y(),q())}),[O,E]);var M=Object(F.useMemo)((function(){return O.every((function(e){return e.status===K.f.APPROVED||e.status===K.f.PAUSED}))}),[O]),H=Object(F.useMemo)((function(){return x.every((function(e){return e.status===K.f.APPROVED||e.status===K.f.PAUSED}))}),[x]);Object(F.useEffect)((function(){r===K.f.SIGNING&&M&&H&&Y()}),[M,H]);var W=function(){var e=Object(a.a)(i.a.mark((function e(){var t,n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_SELL_START_LISTING,Object(s.a)({},U)),c(K.f.SIGNING),e.next=6,v.getAddress();case 6:return t=e.sent,e.next=9,Object(De.k)(t);case 9:n=e.sent,h(null!==n&&void 0!==n?n:0),(null===O||void 0===O?void 0:O.some((function(e){return e.status===K.f.PAUSED})))||(c(K.f.SIGNING),k(1)),r=Object(G.a)(O),e.prev=13,r.s();case 15:if((a=r.n()).done){e.next=27;break}if(o=a.value,e.t0=Object(We.h)(o.status),!e.t0){e.next=25;break}if(!P){e.next=24;break}return e.next=22,Object(We.a)(o,v,p,V);case 22:e.next=25;break;case 24:Object(We.a)(o,v,p,V);case 25:e.next=15;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(13),r.e(e.t1);case 32:return e.prev=32,r.f(),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[13,29,32,35]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var t=Object(a.a)(i.a.mark((function t(){var n,r,a,o,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v&&e){t.next=2;break}return t.abrupt("return");case 2:c(K.f.SIGNING),k(2),r=Object(G.a)(x),t.prev=5,r.s();case 7:if((a=r.n()).done){t.next=15;break}if(o=a.value,t.t0=Object(We.h)(o.status),!t.t0){t.next=13;break}return t.next=13,Object(We.g)(o,v,e,m,h,j,V);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),r.e(t.t1);case 20:return t.prev=20,r.f(),t.finish(20);case 23:return l=x.every((function(e){return e.status===K.f.APPROVED})),u=x.some((function(e){return e.status===K.f.PAUSED})),l?(k(0),c(K.f.APPROVED)):u||c(K.f.FAILED),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_LISTING_COMPLETED,Object(s.a)({signatures_approved:x.filter((function(e){return e.status===K.f.APPROVED})),list_quantity:x.length,usd_value:L*z},R)),t.t2=De.j,t.t3=x,t.next=31,null===v||void 0===v?void 0:v.getAddress();case 31:if(t.t5=n=t.sent,t.t4=null!==t.t5,!t.t4){t.next=35;break}t.t4=void 0!==n;case 35:if(!t.t4){t.next=39;break}t.t6=n,t.next=40;break;case 39:t.t6="";case 40:return t.t7=t.t6,t.next=43,(0,t.t2)(t.t3,t.t7);case 43:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var e,t=Object(G.a)(O);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(We.e)(n,O,u)}}catch(a){t.e(a)}finally{t.f()}var r,c=Object(G.a)(x);try{for(c.s();!(r=c.n()).done;){var i=r.value;Object(We.e)(i,x,l)}}catch(a){c.e(a)}finally{c.f()}},Y=function(){var e,t=Object(G.a)(O);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(We.f)(n,O,u)}}catch(a){t.e(a)}finally{t.f()}var r,c=Object(G.a)(x);try{for(c.s();!(r=c.n()).done;){var i=r.value;Object(We.f)(i,x,l)}}catch(a){c.e(a)}finally{c.f()}},X=Object(F.useMemo)((function(){return r===K.f.APPROVED}),[r]);return Object(se.jsx)(d.Trace,{modal:b.InterfaceModalName.NFT_LISTING,children:Object(se.jsxs)(Ce.b,{paddingTop:"20",paddingBottom:"20",paddingLeft:"12",paddingRight:"12",children:[Object(se.jsxs)(Ce.c,{className:Re.i,marginBottom:"10",children:[P&&!X&&Object(se.jsx)(Se.b,{paddingTop:"4",marginRight:"4",onClick:S,children:Object(se.jsx)(Pe.p,{height:28,width:28})}),X?"Success!":"Listing ".concat(t.length," NFTs"),Object(se.jsx)(Se.b,{as:"button",border:"none",color:"textSecondary",backgroundColor:"backgroundSurface",marginLeft:"auto",marginRight:"0",paddingRight:"0",display:{sm:"flex",md:"none"},cursor:"pointer",onClick:S,children:Object(se.jsx)(Pe.ib,{height:28,width:28,fill:ze.c.colors.textPrimary})})]}),Object(se.jsx)(Ce.b,{overflowX:"hidden",overflowY:"auto",style:{maxHeight:"60vh"},children:X?Object(se.jsx)(d.Trace,{name:b.NFTEventName.NFT_LISTING_COMPLETED,properties:Object(s.a)({list_quantity:x.length,usd_value:L*z},R),shouldLogImpression:!0,children:Object(se.jsx)(He,{sectionTitle:"Listed ".concat(x.length," item").concat(Object(Fe.a)(x.length)," for sale"),rows:x,index:0,openIndex:y,isSuccessScreen:!0})}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(He,{sectionTitle:"Approve ".concat(O.length," collection").concat(Object(Fe.a)(O.length)),title:"COLLECTIONS",rows:O,index:1,openIndex:y}),Object(se.jsx)(He,{sectionTitle:"Confirm ".concat(x.length," listing").concat(Object(Fe.a)(x.length)),caption:"Now you can sign to list each item",title:"NFTS",rows:x,index:2,openIndex:y})]})}),Object(se.jsx)("hr",{className:Be.f}),Object(se.jsxs)(Ce.c,{className:Re.k,marginTop:"12",marginBottom:X?"8":"20",children:["Return if sold",Object(se.jsxs)(Ce.c,{className:Re.l,marginLeft:"auto",marginRight:"0",children:[z,"\xa0ETH"]})]}),X?Object(se.jsxs)(Se.b,{as:"span",className:Re.f,color:"textSecondary",children:["Status:"," ",Object(se.jsx)(Se.b,{as:"span",color:"accentSuccess",children:"Confirmed"})]}):Object(se.jsx)(Ge.a,{onClick:function(){Y(),E?q():W()},buttonText:"Start listing",showWarningOverride:P}),(r===K.f.PENDING||r===K.f.SIGNING)&&Object(se.jsx)(Se.b,{as:"button",border:"none",backgroundColor:"backgroundSurface",cursor:"pointer",color:"orange",className:Be.a,onClick:function(){V()},type:"button",children:"Stop listing"})]})})},Ve=n(583),Ye=n(1915);function Xe(e){return{action:K.j.Buy,marketplace:e.marketplace.toLowerCase(),amountIn:e.price.value,assetIn:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},amountOut:e.amount.toString(),assetOut:{id:e.id,decimals:18,address:e.contractAddress,priceInfo:{ETHPrice:e.price.value,baseAsset:e.price.currency,basePrice:e.price.value,baseDecimals:"18"},tokenType:e.tokenType,tokenId:e.tokenId,amount:e.amount.toString(),marketplace:e.marketplace.toLowerCase(),orderSource:"api"}}}function Je(e,t){var n=e.route?e.route.map(Xe):[];return{route:n,routeResponse:{route:n,valueToSend:t?void 0:e.sendAmount.value,data:e.calldata,to:e.toAddress}}}var Qe,$e=n(990),Ke=n(368),Ze=n(162),et=(n(367),n(2047),n(36)),tt=n(33),nt=Object(l.keyframes)(Qe||(Qe=Object(tt.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),rt=l.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],nt,nt,(function(e){return e.theme.accentAction})),ct=function(){return Object(se.jsx)(Se.b,{display:"flex",position:"absolute",children:Object(se.jsx)("svg",{height:"18px",width:"18px",children:Object(se.jsx)(rt,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},it=n(1898),at=n(1894),ot=n(59),st=(n(580),n(2049),"_1kuawc1 rgw6ez2cv rgw6ez2id rgw6ez2nj rgw6ez271 rgw6ez4dj rgw6ez3sj rgw6ez78z rgw6ez1dp rgw6ez7aj"),lt="rgw6ez14d rgw6ez1b7 rgw6ez48p rgw6ez7ab",ut="_1kuawc7",dt="_1kuawcb rgw6ezb1 rgw6ezcv rgw6ez7l3 rgw6ez44v rgw6ez44p",bt="rgw6ezcp rgw6ezav rgw6eze7 rgw6ez7l3 rgw6ez44p rgw6ez44v rgw6ez4dp",ft="rgw6ez3wv",jt=Object(l.default)(et.s).withConfig({componentId:"sc-iebvtt-0"})(["border-radius:12px;font-size:14px;line-height:16px;margin-left:16px;padding:12px 14px;"]),pt=Object(l.default)(et.s).withConfig({componentId:"sc-iebvtt-1"})(["border-radius:12px;flex:1 1 auto;font-size:14px;padding:8px;width:50%;"]),gt=l.default.div.withConfig({componentId:"sc-iebvtt-2"})(["position:absolute;display:block;right:-11px;top:-11px;z-index:1;transition:250ms;width:45px;height:45px;display:flex;align-items:center;justify-content:center;"]),ht=function(e){var t=e.onClick;return Object(se.jsx)(gt,{onClick:t,children:Object(se.jsx)(Pe.t,{})})},mt=function(){return Object(se.jsx)(Se.b,{position:"relative",background:"loadingBackground",className:lt,children:Object(se.jsxs)(Se.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"gray500",fontSize:"12",fontWeight:"normal",children:["Image",Object(se.jsx)("br",{}),"not",Object(se.jsx)("br",{}),"available"]})})},Ot=function(e){var t,n=e.asset,r=e.usdPrice,c=e.removeAsset,i=e.showRemove,a=e.grayscale,s=e.isMobile,l=Object(F.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1],f=Object(F.useState)(!n.smallImageUrl),j=Object(o.a)(f,2),p=j[0],g=j[1],h=Object(F.useState)(!1),m=Object(o.a)(h,2),x=m[0],v=m[1],w=Object(F.useCallback)((function(){return v(!0)}),[]),I=Object(F.useCallback)((function(){return v(!1)}),[]),y=Boolean(i&&x&&!s),k=n.updatedPriceInfo?n.updatedPriceInfo.ETHPrice:n.priceInfo.ETHPrice,A=Object(Z.r)(k),N=Object(Z.j)(r?parseFloat(Object(O.formatEther)(k))*r:r,!0),E=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),c([n])}),[n,c]);return Object(se.jsx)(ot.b,{to:Object(Z.v)(n),style:{textDecoration:"none"},children:Object(se.jsxs)(Ce.c,{className:st,onMouseEnter:w,onMouseLeave:I,children:[Object(se.jsxs)(Se.b,{position:"relative",display:"flex",children:[i&&s&&Object(se.jsx)(ht,{onClick:E}),!p&&Object(se.jsx)(Se.b,{as:"img",src:n.smallImageUrl,alt:n.name,className:Object(Ue.default)(lt,a&&!x&&ut),onLoad:function(){b(!0)},onError:function(){g(!0)},visibility:d?"visible":"hidden"}),!d&&Object(se.jsx)(Se.b,{position:"absolute",className:"".concat(lt," ").concat(at.b)}),p&&Object(se.jsx)(mt,{})]}),Object(se.jsxs)(Ce.b,{overflow:"hidden",width:"full",color:a?"textSecondary":"textPrimary",children:[Object(se.jsxs)(Ce.c,{overflow:"hidden",width:"full",whiteSpace:"nowrap",children:[Object(se.jsx)(Se.b,{className:dt,children:null!==(t=n.name)&&void 0!==t?t:"#".concat(n.tokenId)}),n.susFlag&&Object(se.jsx)(it.s,{})]}),Object(se.jsxs)(Ce.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(se.jsx)(Se.b,{className:bt,children:n.collectionName}),n.collectionIsVerified&&Object(se.jsx)(Pe.hb,{className:ft})]})]}),y&&Object(se.jsx)(jt,{onClick:E,emphasis:et.e.medium,size:et.n.medium,children:"Remove"}),(!y||s)&&Object(se.jsxs)(Ce.b,{flexShrink:"0",alignItems:"flex-end",children:[Object(se.jsxs)(Se.b,{className:"_1kuawc9 rgw6ez3rv rgw6ezb1 rgw6ezd1 rgw6ez3wv",children:[A,"\xa0ETH"]}),Object(se.jsx)(Se.b,{className:bt,children:N})]})]})})},xt=function(e){var t,n=e.asset,r=e.usdPrice,c=e.markAssetAsReviewed,i=e.top,a=e.isMobile,o=u.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(u.a.from(n.priceInfo.ETHPrice)),s=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!1)}),[n,c]),l=Object(F.useCallback)((function(e){e.preventDefault(),e.stopPropagation();c(n,!0)}),[n,c]);return Object(se.jsxs)(Ce.b,{className:"rgw6ez2o7 rgw6ez27p rgw6ezlj rgw6ezr1 rgw6ez4rj rgw6ez3s7 rgw6ez4dj rgw6ez79b rgw6ez7ir rgw6ez537 rgw6ez5np rgw6ez1dp rgw6ez78z",borderTopColor:i?"backgroundOutline":"transparent",children:[Object(se.jsxs)(Ce.c,{className:"rgw6ezcp rgw6ezav rgw6eze7 rgw6ez4bd rgw6ez3rv",children:[o?Object(se.jsx)(Pe.Z,{}):Object(se.jsx)(Pe.Y,{}),Object(se.jsx)(Se.b,{children:"Price ".concat(o?"increased":"decreased"," from ").concat(Object(Z.r)(n.priceInfo.ETHPrice)," ETH")})]}),Object(se.jsx)(Se.b,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(se.jsx)(Ot,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:a})}),Object(se.jsxs)(Ce.c,{gap:"8",justifyContent:"space-between",children:[Object(se.jsx)(pt,{onClick:s,emphasis:et.e.medium,size:et.n.small,children:"Remove"}),Object(se.jsx)(pt,{onClick:l,emphasis:et.e.high,size:et.n.small,children:"Keep"})]})]})},vt=function(e){var t=e.assets;return Object(se.jsx)(Ce.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(se.jsx)(Se.b,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:ut},"".concat(e.address,"-").concat(e.tokenId))}))})},wt=function(e){var t=e.assets,n=e.usdPrice,r=e.clearUnavailableAssets,c=e.didOpenUnavailableAssets,i=e.setDidOpenUnavailableAssets,a=e.isMobile,s=Object(F.useReducer)((function(e){return!e}),!1),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(F.useState)(8),f=Object(o.a)(b,2),j=f[0],p=f[1];if(Object(F.useEffect)((function(){if(j){var e=setInterval((function(){p(j-1)}),1e3);return function(){return clearInterval(e)}}c||(r(),i(!1))}),[j,r,c,i]),!t||0===t.length)return null;var g=t.length>1,h=u||!g;return Object(se.jsx)(Ce.b,{className:"rgw6ez2o7 rgw6ez27p rgw6ezlj rgw6ezr1 rgw6ez4rj rgw6ez3sj rgw6ez4dj rgw6ez79b rgw6ez7ir rgw6ez537 rgw6ez5zj rgw6ez5np rgw6ez1dp",children:Object(se.jsxs)(Ce.b,{children:[Object(se.jsxs)(Ce.c,{justifyContent:"space-between",marginBottom:h?"12":"0",cursor:g?"pointer":"default",onClick:function(){g&&(!c&&i(!0),d())},children:[Object(se.jsxs)(Ce.c,{gap:"12",color:"textSecondary",className:Re.c,children:[!h&&Object(se.jsx)(vt,{assets:t.slice(0,5)}),"No longer available"]}),g&&Object(se.jsx)(Ce.c,{color:"textSecondary",children:u?Object(se.jsx)(Pe.r,{}):Object(se.jsx)(Pe.o,{})}),!c&&Object(se.jsxs)(Ce.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:r,children:[Object(se.jsx)(ct,{}),Object(se.jsx)(Pe.v,{})]})]}),Object(se.jsx)(Ce.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:h&&t.map((function(e){return Object(se.jsx)(Ot,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:a},e.id)}))})]})})},It=function(){var e=Object(_e.e)((function(e){return e.bagStatus})),t=Object(_e.e)((function(e){return e.setBagStatus})),n=Object(_e.e)((function(e){return e.markAssetAsReviewed})),r=Object(_e.e)((function(e){return e.didOpenUnavailableAssets})),c=Object(_e.e)((function(e){return e.setDidOpenUnavailableAssets})),i=Object(_e.e)((function(e){return e.itemsInBag})),a=Object(_e.e)((function(e){return e.setItemsInBag})),o=Object(_e.e)((function(e){return e.removeAssetsFromBag})),l=Object(_e.i)(),u=Object(F.useMemo)((function(){return Object(Z.I)(i)}),[i]),f=Object(Ke.useQuery)(["fetchPrice",{}],(function(){return Object(Z.l)()}),{}).data,j=Object(F.useMemo)((function(){return{unchangedAssets:u.filter((function(e){return e.status===K.c.ADDED_TO_BAG||e.status===K.c.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:u.filter((function(e){return e.status===K.c.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:u.filter((function(e){return e.status===K.c.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:u.filter((function(e){return e.status!==K.c.UNAVAILABLE}))}}),[u]),p=j.unchangedAssets,g=j.priceChangedAssets,h=j.unavailableAssets,m=j.availableItems;return Object(F.useEffect)((function(){var n=g.length>0,r=u.length>0;n&&Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_BUY_BAG_CHANGED,Object(s.a)({usd_value:f,bag_quantity:u},Object(Z.m)(g))),e!==K.d.IN_REVIEW||n||t(r?K.d.CONFIRM_REVIEW:K.d.ADDING_TO_BAG),e!==K.d.CONFIRM_REVIEW||r||t(K.d.ADDING_TO_BAG)}),[e,u,g,t,f]),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(Ce.b,{display:g.length>0||h.length>0?"flex":"none",children:[h.length>0&&Object(se.jsx)(d.Trace,{name:b.NFTEventName.NFT_BUY_BAG_CHANGED,properties:Object(s.a)({usd_value:f,bag_quantity:u.length},Object(Z.m)(h)),shouldLogImpression:!0,children:Object(se.jsx)(wt,{assets:h,usdPrice:f,clearUnavailableAssets:function(){return a(m)},didOpenUnavailableAssets:r,setDidOpenUnavailableAssets:c,isMobile:l})}),g.map((function(e,t){return Object(se.jsx)(xt,{asset:e,usdPrice:f,markAssetAsReviewed:n,top:0===t&&0===h.length,isMobile:l},e.id)}))]}),Object(se.jsx)(Ce.b,{children:p.slice(0).reverse().map((function(e){return Object(se.jsx)(Ot,{asset:e,usdPrice:f,removeAsset:o,showRemove:!0,isMobile:l},e.id)}))})]})},yt=n(801),kt=Object(l.default)(ce.c).withConfig({componentId:"sc-bq6y8h-0"})(["color:",";cursor:pointer;font-weight:600;font-size:14px;line-height:16px;:active{text-decoration:none;}"],(function(e){return e.theme.textSecondary})),At=l.default.button.withConfig({componentId:"sc-bq6y8h-1"})(["align-items:center;background-color:transparent;border-radius:8px;border:none;color:",";cursor:pointer;display:flex;flex-direction:row;justify-content:flex-end;margin-left:auto;padding:2px;opacity:1;",""],(function(e){return e.theme.textPrimary}),yt.a),Nt=l.default.div.withConfig({componentId:"sc-bq6y8h-2"})(["align-items:center;background-color:",";border-radius:100px;font-weight:bold;color:",";display:flex;font-size:10px;justify-content:center;min-width:",";min-height:",";padding:4px 6px;"],(function(e){return e.theme.accentAction}),(function(e){return e.theme.accentTextLightPrimary}),(function(e){return e.sizing}),(function(e){return e.sizing})),Et=l.default.div.withConfig({componentId:"sc-bq6y8h-3"})(["align-items:center;display:flex;flex-direction:row;gap:8px;justify-content:flex-start;margin:16px 28px;text-align:center;"]),Tt=function(e){var t=e.numberOfAssets,n=e.closeBag,r=e.resetFlow,c=e.isProfilePage,i=Object(F.useMemo)((function(){return function(e){var t=e.toString().length;return"".concat(14+6*t,"px")}(t)}),[t]);return Object(se.jsxs)(Et,{children:[Object(se.jsx)(ce.w.HeadlineSmall,{children:c?Object(se.jsx)(h.b,{id:"Sell"}):Object(se.jsx)(h.b,{id:"Bag"})}),t>0&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Nt,{sizing:i,children:t}),Object(se.jsx)(kt,{onClick:r,children:Object(se.jsx)(h.b,{id:"Clear all"})})]}),Object(se.jsx)(At,{onClick:n,children:Object(se.jsx)(Pe.i,{"data-testid":"nft-bag-close-icon"})})]})},St=Object(l.default)(Ce.b).withConfig({componentId:"sc-xhr1rt-0"})(["gap:12px;margin-top:68px;"]),Ct=function(){var e=Object(g.c)();return Object(se.jsxs)(St,{children:[Object(se.jsx)(Ce.a,{children:e?Object(se.jsx)(Pe.I,{color:ze.c.colors.textTertiary}):Object(se.jsx)(Pe.j,{color:ze.c.colors.textTertiary,height:"96px",width:"96px",strokeWidth:"1px"})}),e?Object(se.jsx)(Ce.a,{"data-testid":"nft-no-nfts-selected",className:Re.k,children:"No NFTs selected"}):Object(se.jsxs)(Ce.b,{gap:"16",children:[Object(se.jsx)(Ce.a,{"data-testid":"nft-empty-bag",className:Re.k,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(se.jsx)(Ce.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})},Pt=function(e){var t=e.asset,n=Object(_e.m)((function(e){return e.removeSellAsset})),r=Object(_e.i)(),c=Object(F.useState)(!1),i=Object(o.a)(c,2),a=i[0],s=i[1],l=function(){return s(!a)},u=function(e){e.preventDefault(),e.stopPropagation(),n(t)};return Object(se.jsxs)(Ce.c,{className:st,onMouseEnter:l,onMouseLeave:l,children:[Object(se.jsxs)(Se.b,{position:"relative",display:"flex",children:[r&&Object(se.jsx)(ht,{onClick:u}),Object(se.jsx)("img",{src:t.smallImageUrl,alt:t.name,className:lt})]}),Object(se.jsxs)(Ce.b,{overflow:"hidden",width:"full",color:"textPrimary",children:[Object(se.jsx)(Ce.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(se.jsx)(Se.b,{className:dt,children:t.name||"#".concat(t.tokenId)})}),Object(se.jsxs)(Ce.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(se.jsx)(Se.b,{className:bt,children:t.asset_contract.name}),t.collectionIsVerified&&Object(se.jsx)(Pe.hb,{className:ft})]})]}),a&&!r&&Object(se.jsx)(jt,{onClick:u,emphasis:et.e.medium,size:et.n.medium,children:"Remove"})]})},Rt=function(){var e=Object(_e.m)((function(e){return e.sellAssets}));return Object(se.jsx)(Ce.b,{children:e.length?e.map((function(e,t){return Object(se.jsx)(Pt,{asset:e},t)})):null})},zt=320,_t=360,Dt=l.default.div.withConfig({componentId:"sc-1cpp7nx-0"})(["position:fixed;display:flex;flex-direction:column;top:88px;right:20px;width:","px;height:calc(100vh - 108px);background:",";border:1px solid ",";border-radius:16px;box-shadow:",";z-index:",";@media only screen and (max-width:","){right:0px;top:0px;width:100%;height:100%;border-radius:0px;border:none;}@media only screen and (min-width:","){width:","px;}"],zt,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.shallowShadow}),(function(e){var t=e.raiseZIndex,n=e.isProfilePage;return t?n?Ze.a.modalOverTooltip:Ze.a.modalBackdrop-1:3}),(function(e){var t=e.theme;return"".concat(t.breakpoint.sm,"px")}),(function(e){var t=e.theme;return"".concat(t.breakpoint.xxxl,"px")}),_t),Lt=l.default.div.withConfig({componentId:"sc-1cpp7nx-1"})(["position:fixed;background:rgba(0,0,0,0.7);top:0px;width:100%;height:100%;"]),Ft=function(e){var t=e.top,n=e.show;return Object(se.jsx)(Se.b,{marginX:"24",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})};t.default=function(){var e=Object(f.useWeb3React)(),t=e.account,n=e.provider,c=Object(_e.m)((function(e){return{resetSellAssets:e.reset,sellAssets:e.sellAssets}}),oe.a),l=c.resetSellAssets,h=c.sellAssets,m=Object(_e.l)((function(e){var t=e.setProfilePageState;return{profilePageState:e.state,setProfilePageState:t}}),oe.a),O=m.profilePageState,x=m.setProfilePageState,v=Object(_e.e)((function(e){return Object(s.a)(Object(s.a)({},e),{},{bagIsLocked:e.isLocked,uncheckedItemsInBag:e.itemsInBag})}),oe.a),w=v.bagStatus,I=v.setBagStatus,y=v.didOpenUnavailableAssets,k=v.setDidOpenUnavailableAssets,A=v.bagIsLocked,N=v.setLocked,E=v.reset,T=v.setItemsInBag,S=v.bagExpanded,C=v.toggleBag,P=v.setTotalEthPrice,R=v.setBagExpanded,z=Object(_e.e)((function(e){return{uncheckedItemsInBag:e.itemsInBag}})).uncheckedItemsInBag,_=Object(g.c)(),D=Object(g.a)(),L=Object(g.b)(),G=Object(_e.i)(),B=Object(j.b)()===j.a.Enabled,U=Object(_e.n)((function(e){return e.sendTransaction})),M=Object(_e.n)((function(e){return e.state})),H=Object(_e.n)((function(e){return e.setState})),W=Object(F.useRef)(M),V=Object(_e.o)((function(e){return[e.setTransactionResponse]})),Y=Object(o.a)(V,1)[0],X=q((function(e){return e.tokenTradeInput})),J=Object(Ke.useQueryClient)(),Q=Object(F.useMemo)((function(){return Object(Z.I)(z)}),[z]),$=Object(F.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=Object(F.useState)(!1),ce=Object(o.a)(re,2),ie=ce[0],ae=ce[1],le=Object(F.useState)(0),ue=Object(o.a)(le,2),de=ue[0],be=ue[1],fe=Object(F.useMemo)((function(){return{totalEthPrice:Q.reduce((function(e,t){return t.status!==K.c.UNAVAILABLE?e.add(u.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),u.a.from(0))}}),[Q]).totalEthPrice,je=function(){var e=Object(a.a)(i.a.mark((function e(t,r){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,U(null===n||void 0===n?void 0:n.getSigner(),Q.filter((function(e){return e.status!==K.c.UNAVAILABLE})).map((function(e){return e.asset})),t,r);case 4:!(c=e.sent)||W.current!==K.m.Success&&W.current!==K.m.Failed||(N(!1),ne(!1),Y(c),R({bagExpanded:!1}),E());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=Object(F.useCallback)((function(){R({bagExpanded:!1,manualClose:!0})}),[R]),ge=Object(p.l)(),he=Object(o.a)(ge,1)[0],me=function(){var e=Object(a.a)(i.a.mark((function e(){var n,c,a,o,s,l,d,b,f,j,p,g,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Q.filter((function(e){return e.status!==K.c.UNAVAILABLE})).map((function(e){return e.asset})),c=Object(Z.d)(n.reduce((function(e,t){return e.add(u.a.from(t.priceInfo.ETHPrice))}),u.a.from(0)).toString()),y&&k(!1),!A&&N(!0),I(K.d.FETCHING_ROUTE),e.prev=5,!B){e.next=10;break}he({variables:{senderAddress:B&&t?t:"",nftTrades:B?Object(Z.c)(Q):[],tokenTrades:X||void 0},onCompleted:function(e){if(!e.nftRoute||!e.nftRoute.route)return I(K.d.ADDING_TO_BAG),void N(!1);var t=!!X,c=Je(e.nftRoute,t),i=c.route,a=c.routeResponse,o=Object($e.a)(n,i),s=o.hasPriceAdjustment,l=o.updatedAssets,u=s&&t,d=l.filter((function(e){return e.updatedPriceInfo})).sort(Z.K),b=l.filter((function(e){return e.isUnavailable})),f=l.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),j=f.length>0,p=d.length>0,g=b.length>0,h=j||p||g,m=p||g;T([].concat(Object(r.a)(b.map((function(e){return{asset:e,status:K.c.UNAVAILABLE}}))),Object(r.a)(d.map((function(e){return{asset:e,status:K.c.REVIEWING_PRICE_CHANGE}}))),Object(r.a)(f.map((function(e){return{asset:e,status:K.c.REVIEWED}})))));var O=!1;h?m?I(p?K.d.IN_REVIEW:K.d.CONFIRM_REVIEW):u?I(K.d.CONFIRM_QUOTE):(je(a,t),I(K.d.CONFIRMING_IN_WALLET),O=!0):I(K.d.ADDING_TO_BAG),N(O)}}),e.next=25;break;case 10:return e.next=12,J.fetchQuery(["assetsRoute",c,n,t],(function(){return Object(De.f)({toSell:[c],toBuy:n,senderAddress:null!==t&&void 0!==t?t:""})}));case 12:a=e.sent,o=Object($e.a)(n,a.route),s=o.updatedAssets,l=s.filter((function(e){return e.updatedPriceInfo})).sort(Z.K),d=s.filter((function(e){return e.isUnavailable})),b=s.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),f=b.length>0,j=l.length>0,p=d.length>0,g=f||j||p,h=j||p,T([].concat(Object(r.a)(d.map((function(e){return{asset:e,status:K.c.UNAVAILABLE}}))),Object(r.a)(l.map((function(e){return{asset:e,status:K.c.REVIEWING_PRICE_CHANGE}}))),Object(r.a)(b.map((function(e){return{asset:e,status:K.c.REVIEWED}}))))),N(!1),g?h?I(j?K.d.IN_REVIEW:K.d.CONFIRM_REVIEW):(je(a,!1),I(K.d.CONFIRMING_IN_WALLET)):I(K.d.ADDING_TO_BAG);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(5),I(K.d.ADDING_TO_BAG);case 30:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(){return e.apply(this,arguments)}}();Object(F.useEffect)((function(){_e.n.subscribe((function(e){return W.current=e.state}))}),[]),Object(F.useEffect)((function(){A&&!te&&ne(!0)}),[A,te]),Object(F.useEffect)((function(){W.current===K.m.Confirming&&I(K.d.PROCESSING_TRANSACTION),W.current!==K.m.Denied&&W.current!==K.m.Invalid||(W.current===K.m.Invalid?I(K.d.WARNING):I(K.d.CONFIRM_REVIEW),H(K.m.New),N(!1),ne(!1))}),[W.current]),Object(F.useEffect)((function(){P(fe)}),[fe,P]);var Oe=Q.length>0,xe=Q.length>0,ve=h.length>0,we=Boolean(!_&&!xe&&w===K.d.ADDING_TO_BAG||_&&!ve),Ie=Object(F.useMemo)((function(){return Object(s.a)({},Object(Z.m)(Q.map((function(e){return e.asset}))))}),[Q]);return S&&L?Object(se.jsxs)(Ve.a,{children:[Object(se.jsx)(Dt,{"data-testid":"nft-bag",raiseZIndex:G||te,isProfilePage:_,children:_&&O===K.i.LISTING?Object(se.jsx)(qe,{}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Tt,{numberOfAssets:_?h.length:Q.length,closeBag:pe,resetFlow:_?l:E,isProfilePage:_}),we&&Object(se.jsx)(Ct,{}),Object(se.jsx)(Ft,{top:!0,show:ie&&de>0}),Object(se.jsx)(Ce.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==ie&&ae(t)}},className:"_1jcz50r1 rgw6ez2dj rgw6ez2j1 rgw6ez1y7 rgw6ez7mf",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;be(t?(t+n)/r*100:0)},gap:"12",children:_?Object(se.jsx)(Rt,{}):Object(se.jsx)(It,{})}),Oe&&!_&&Object(se.jsx)(Te,{totalEthPrice:fe,fetchAssets:me,eventProperties:Ie}),ve&&_&&Object(se.jsx)(Se.b,{marginTop:"32",marginX:"28",marginBottom:"16",paddingY:"10",className:"".concat(Re.d," ").concat(Re.g),backgroundColor:"accentAction",color:"white",textAlign:"center",onClick:function(){C(),x(K.i.LISTING),Object(d.sendAnalyticsEvent)(b.NFTEventName.NFT_PROFILE_PAGE_START_SELL,{list_quantity:h.length,collection_addresses:h.map((function(e){return e.asset_contract.address})),token_ids:h.map((function(e){return e.tokenId}))})},children:"Continue"})]})}),D?Object(se.jsx)(Lt,{onClick:C}):te&&Object(se.jsx)(Ye.a,{onClick:function(){return A?void 0:ne(!1)}})]}):null}},1956:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(43),c=n(8),i=n(2),a=n(5),o=n(116),s=n(80),l=n(36),u=n(23),d=n(583),b=n(1915),f=n(1),j=n(1694),p=n(1089),g=n(10),h=n(162),m=n(0),O=Object(i.default)(u.d).withConfig({componentId:"sc-1e2ctc1-0"})(["position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:420px;z-index:",";background:",";border-radius:20px;border:1px solid ",";box-shadow:",";padding:20px 24px 24px;display:flex;flex-direction:column;gap:12px;@media screen and (max-width:","px){width:100%;}"],h.a.modal,(function(e){return e.theme.backgroundSurface}),(function(e){return e.theme.backgroundOutline}),(function(e){return e.theme.deepShadow}),g.a.sm),x=i.default.div.withConfig({componentId:"sc-1e2ctc1-1"})(["display:flex;width:100%;justify-content:flex-end;"]),v=Object(i.default)(j.a).withConfig({componentId:"sc-1e2ctc1-2"})(["cursor:pointer;&:hover{opacity:0.6;}"]),w=i.default.div.withConfig({componentId:"sc-1e2ctc1-3"})(["display:flex;width:100%;justify-content:center;align-items:center;padding:32px 120px;"]),I=Object(i.default)(l.k).withConfig({componentId:"sc-1e2ctc1-4"})(["font-weight:600;font-size:20px;line-height:24px;margin-top:12px;"]),y=i.default.span.withConfig({componentId:"sc-1e2ctc1-5"})(["font-weight:600;font-size:16px;line-height:20px;color:",";text-align:center;cursor:pointer;padding:12px 16px;&:hover{opacity:0.6;}"],(function(e){return e.theme.accentAction})),k=function(e){var t,n,r=e.listingsBelowFloor,c=e.closeModal,s=e.startListing,l=Object(i.useTheme)();return Object(m.jsxs)(d.a,{children:[Object(m.jsxs)(O,{children:[Object(m.jsxs)(x,{children:[Object(m.jsx)(v,{width:24,height:24,onClick:c})," "]}),Object(m.jsx)(w,{children:Object(m.jsx)(p.a,{height:90,width:90,color:l.accentCritical})}),Object(m.jsx)(g.w.HeadlineSmall,{lineHeight:"28px",textAlign:"center",children:Object(m.jsx)(a.b,{id:"Low listing price"})}),Object(m.jsxs)(g.w.BodyPrimary,{textAlign:"center",children:[Object(m.jsx)(a.b,{id:"{0, plural, =1 {{1}} other {{2}}}",values:{0:1!==r.length?2:1,1:o.a._("One NFT is listed {0}%",{0:(100*(1-(null!==(t=r[0][1].price)&&void 0!==t?t:0)/(null!==(n=r[0][0].floorPrice)&&void 0!==n?n:0))).toFixed(0)}),2:o.a._("{0} NFTs are listed significantly",{0:r.length})}}),"\xa0",Object(m.jsx)(a.b,{id:"below the collection\u2019s floor price. Are you sure you want to continue?"})]}),Object(m.jsx)(I,{onClick:function(e){e.preventDefault(),e.stopPropagation(),s(),c()},children:Object(m.jsx)(a.b,{id:"Continue"})}),Object(m.jsx)(y,{onClick:c,children:Object(m.jsx)(a.b,{id:"Edit listings"})})]}),Object(m.jsx)(b.a,{onClick:c})]})},A=n(192),N=n(56),E=n(294),T=n(803),S=n.n(T),C=n(1924),P=n(1899),R=function(e){var t=e.onClick,n=e.buttonText,l=e.showWarningOverride,u=void 0!==l&&l,d=Object(A.m)((function(e){return{addMarketplaceWarning:e.addMarketplaceWarning,sellAssets:e.sellAssets,removeAllMarketplaceWarnings:e.removeAllMarketplaceWarnings,showResolveIssues:e.showResolveIssues,toggleShowResolveIssues:e.toggleShowResolveIssues,issues:e.issues,setIssues:e.setIssues}}),S.a),b=d.addMarketplaceWarning,j=d.sellAssets,p=d.removeAllMarketplaceWarnings,g=d.showResolveIssues,h=d.toggleShowResolveIssues,O=d.issues,x=d.setIssues,v=Object(A.k)((function(e){return{listingStatus:e.listingStatus,setListingStatus:e.setListingStatus,setListings:e.setListings,setCollectionsRequiringApproval:e.setCollectionsRequiringApproval}}),S.a),w=v.listingStatus,I=v.setListingStatus,y=v.setListings,T=v.setCollectionsRequiringApproval,R=Object(f.useState)(!1),z=Object(c.a)(R,2),_=z[0],D=z[1],L=Object(f.useState)(!1),F=Object(c.a)(L,2),G=F[0],B=F[1],U=Object(i.useTheme)();Object(f.useEffect)((function(){var e=Object(P.c)(j),t=Object(c.a)(e,2),n=t[0],r=t[1];y(r),T(n),I(N.f.DEFINED)}),[j]);var M=Object(f.useMemo)((function(){var e,t=j.some((function(e){return void 0===e.marketplaces})),n=j.some((function(e){return null!=e.expirationTime&&(isNaN(e.expirationTime)||1e3*e.expirationTime-Date.now()<6e4)})),c=j.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),i=j.some((function(e){return null!=e.expirationTime&&1e3*e.expirationTime-Date.now()>15552e6})),a=[],o=[],s=[],l=[],u=Object(r.a)(j);try{for(u.s();!(e=u.n()).done;){var d=e.value;if(d.newListings){var b,f=Object(r.a)(d.newListings);try{for(f.s();!(b=f.n()).done;){var p,m=b.value;m.price?isNaN(m.price)||m.price<0?l.push([d,m]):m.price<.8*(null!==(p=null===d||void 0===d?void 0:d.floorPrice)&&void 0!==p?p:0)&&!m.overrideFloorPrice?o.push([d,m]):d.floor_sell_order_price&&m.price>=d.floor_sell_order_price&&s.push([d,m]):a.push([d,m])}}catch(w){f.e(w)}finally{f.f()}}}}catch(w){u.e(w)}finally{u.f()}var O=Number(n)+Number(i)+a.length+s.length;x(O),!O&&g&&h(),(n||i||s.length)&&!g&&h();var v=0===o.length&&0===s.length;return B(v),[t,n,c,i,a,o,s,l]}),[j,x,g,h]),H=Object(c.a)(M,8),W=H[0],q=H[1],V=H[2],Y=H[3],X=H[4],J=H[5],Q=H[6],$=H[7],K=Object(f.useMemo)((function(){return[W||q||V||Y||$.length>0||X.length>0,W?"No marketplaces selected":q?"Set duration":V?"Invalid duration":Y?"Max duration is 6 months":X.length>0?"".concat(X.length," item price").concat(Object(E.a)(X.length)," not set"):$.length>0?"".concat($.length," price").concat(Object(E.a)($.length)," are invalid"):J.length>0?"".concat(J.length," item").concat(Object(E.a)(J.length)," listed below floor"):Q.length>0?"".concat(Q.length," item").concat(Object(E.a)(Q.length)," already listed"):""]}),[W,q,V,Y,X,$,J,Q]),Z=Object(c.a)(K,2),ee=Z[0],te=Z[1];Object(f.useEffect)((function(){D(!1)}),[te]);var ne=function(){!ee&&G||u?O?!g&&h():J.length?D(!0):t():function(){if(p(),!q&&!W)if(X.length>0){var e,t=Object(r.a)(X);try{for(t.s();!(e=t.n()).done;){var n=Object(c.a)(e.value,2),i=n[0],a=n[1];b(i,{message:"PLEASE SET A PRICE",marketplace:a.marketplace})}}catch(f){t.e(f)}finally{t.f()}}else if($.length>0){var o,s=Object(r.a)($);try{for(s.s();!(o=s.n()).done;){var l=Object(c.a)(o.value,2),u=l[0],d=l[1];!d.overrideFloorPrice&&b(u,{message:"INVALID PRICE",marketplace:d.marketplace})}}catch(f){s.e(f)}finally{s.f()}}D(!0)}()};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{position:"relative",children:Object(m.jsx)(s.b,{as:"button",border:"none",backgroundColor:g?"accentFailure":"accentAction",cursor:[N.f.APPROVED,N.f.PENDING,N.f.SIGNING].includes(w)||ee?"default":"pointer",className:C.a,onClick:function(){return w!==N.f.APPROVED&&ne()},type:"button",style:{color:g?U.accentTextLightPrimary:U.white,opacity:![N.f.DEFINED,N.f.FAILED,N.f.CONTINUE].includes(w)||ee&&!g?.3:1},children:w===N.f.SIGNING?Object(m.jsx)(a.b,{id:"Proceed in wallet"}):w===N.f.PENDING?Object(m.jsx)(a.b,{id:"Pending"}):w===N.f.APPROVED?Object(m.jsx)(a.b,{id:"Complete!"}):w===N.f.PAUSED?Object(m.jsx)(a.b,{id:"Paused"}):w===N.f.FAILED?Object(m.jsx)(a.b,{id:"Try again"}):w===N.f.CONTINUE?Object(m.jsx)(a.b,{id:"Continue"}):g?Object(m.jsx)(a.b,{id:"{0, plural, =1 {Resolve issue} other {{1}}}",values:{0:1!==O?2:1,1:o.a._("Resolve {issues} issues",{issues:O})}}):n})}),_&&Object(m.jsx)(k,{listingsBelowFloor:J,closeModal:function(){return D(!1)},startListing:t})]})}},2046:function(e,t,n){},2047:function(e,t,n){},2048:function(e,t,n){},2049:function(e,t,n){}}]);
//# sourceMappingURL=1.373d687d.chunk.js.map